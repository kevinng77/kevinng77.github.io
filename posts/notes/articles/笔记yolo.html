<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="http://antarina.tech/posts/notes/articles/%E7%AC%94%E8%AE%B0yolo.html"><meta property="og:site_name" content="è®°å¿†ç¬”ä¹¦"><meta property="og:title" content="YOLO å‘å±•å²ç¬”è®°"><meta property="og:description" content="YOLO å‘å±•å² ä¼ ç»Ÿçš„ç‰©ä½“æ£€æµ‹éœ€è¦ç»è¿‡ä¸¤ä¸ª stageï¼š Stage 1ï¼šå¯»æ‰¾å¤‡é€‰æ¡†ï¼ˆregison proposalï¼Œå¦‚ RPNï¼Œç»å…¸çš„ RCNNï¼Œfast RCNN ç­‰ï¼‰ Stage 2ï¼šæ ¹æ®å¤‡é€‰æ¡†å¯»æ‰¾ç­”æ¡ˆ One-Stage çš„ä»£è¡¨ä½œæœ‰ SSD, YOLO ç³»åˆ—, RetainNet ç­‰ ç‰©ä½“æ£€æµ‹æ¡†æ¶ ç›¸å…³å›¾ç‰‡"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-26T07:48:04.000Z"><meta property="article:author" content="Kevin å´å˜‰æ–‡"><meta property="article:tag" content="CV"><meta property="article:published_time" content="2022-11-18T00:00:00.000Z"><meta property="article:modified_time" content="2023-03-26T07:48:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"YOLO å‘å±•å²ç¬”è®°","image":[""],"datePublished":"2022-11-18T00:00:00.000Z","dateModified":"2023-03-26T07:48:04.000Z","author":[{"@type":"Person","name":"Kevin å´å˜‰æ–‡"}]}</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet"><link rel="icon" href="/logo.svg"><title>YOLO å‘å±•å²ç¬”è®° | è®°å¿†ç¬”ä¹¦</title><meta name="description" content="YOLO å‘å±•å² ä¼ ç»Ÿçš„ç‰©ä½“æ£€æµ‹éœ€è¦ç»è¿‡ä¸¤ä¸ª stageï¼š Stage 1ï¼šå¯»æ‰¾å¤‡é€‰æ¡†ï¼ˆregison proposalï¼Œå¦‚ RPNï¼Œç»å…¸çš„ RCNNï¼Œfast RCNN ç­‰ï¼‰ Stage 2ï¼šæ ¹æ®å¤‡é€‰æ¡†å¯»æ‰¾ç­”æ¡ˆ One-Stage çš„ä»£è¡¨ä½œæœ‰ SSD, YOLO ç³»åˆ—, RetainNet ç­‰ ç‰©ä½“æ£€æµ‹æ¡†æ¶ ç›¸å…³å›¾ç‰‡">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-a733c29d.css" as="style"><link rel="stylesheet" href="/assets/style-a733c29d.css">
    <link rel="modulepreload" href="/assets/app-90f47110.js"><link rel="modulepreload" href="/assets/ç¬”è®°yolo.html-b5fba243.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/ç¬”è®°yolo.html-2b50d563.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><!----><!----><span class="vp-site-name">è®°å¿†ç¬”ä¹¦</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="ä¸»é¡µ" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="å½’æ¡£" class="vp-link nav-link nav-link" href="/timeline/"><span class="font-icon icon iconfont icon-categoryselected" style=""></span>å½’æ¡£<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/kevinng77" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->YOLO å‘å±•å²ç¬”è®°</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Kevin å´å˜‰æ–‡</span></span><span property="author" content="Kevin å´å˜‰æ–‡"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-11-18T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 14 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT14M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category7 clickable" role="navigation">çŸ¥è¯†ç¬”è®°</span><!--]--><meta property="articleSection" content="çŸ¥è¯†ç¬”è®°"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag1 clickable" role="navigation">CV</span><!--]--><meta property="keywords" content="CV"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#yolo-å‘å±•å²">YOLO å‘å±•å²</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#ç‰©ä½“æ£€æµ‹æ¡†æ¶">ç‰©ä½“æ£€æµ‹æ¡†æ¶</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#yolo-1">YOLO 1</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#yolo-2">YOLO 2</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#yolo-v3">YOLO v3</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#yolo-4">YOLO 4</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#yolo-v7">YOLO v7</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#backbone">Backbone</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#neck">Neck</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#head">HEAD</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#å‚è€ƒè®ºæ–‡">å‚è€ƒè®ºæ–‡</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="yolo-å‘å±•å²" tabindex="-1"><a class="header-anchor" href="#yolo-å‘å±•å²" aria-hidden="true">#</a> YOLO å‘å±•å²</h2><p>ä¼ ç»Ÿçš„ç‰©ä½“æ£€æµ‹éœ€è¦ç»è¿‡ä¸¤ä¸ª stageï¼š</p><p>Stage 1ï¼šå¯»æ‰¾å¤‡é€‰æ¡†ï¼ˆregison proposalï¼Œå¦‚ RPNï¼Œç»å…¸çš„ RCNNï¼Œfast RCNN ç­‰ï¼‰</p><p>Stage 2ï¼šæ ¹æ®å¤‡é€‰æ¡†å¯»æ‰¾ç­”æ¡ˆ</p><p>One-Stage çš„ä»£è¡¨ä½œæœ‰ SSD, YOLO ç³»åˆ—, RetainNet ç­‰</p><h3 id="ç‰©ä½“æ£€æµ‹æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#ç‰©ä½“æ£€æµ‹æ¡†æ¶" aria-hidden="true">#</a> ç‰©ä½“æ£€æµ‹æ¡†æ¶</h3><figure><img src="/assets/img/yolo/image-20221115204024324.png" alt="ç›¸å…³å›¾ç‰‡" height="300" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><ul><li>label engineering åŒ…æ‹¬å¦‚ label ä¿®æ­£ï¼Œlabel smoothing ç­‰</li><li>backbone åŒ…æ‹¬å¦‚ resnetï¼Œvggï¼Œfpn ç­‰ï¼›head ç”¨äºä¸‹æ¸¸ä»»åŠ¡çš„è§£ç ï¼›neck å°±æ˜¯ä¸­é—´æ‰¿æ¥çš„éƒ¨åˆ†</li><li>losses æ˜¯ä¸€ä¸ªé‡ç‚¹çš„ï¼Œåºå¤§çš„æ“ä½œï¼›</li><li>å…¶ä»– post processing åŒ…æ‹¬ NMS ç­‰</li></ul><h2 id="yolo-1" tabindex="-1"><a class="header-anchor" href="#yolo-1" aria-hidden="true">#</a> YOLO 1</h2><ol><li>è¾“å…¥ <code>448 * 448</code>ï¼Œå°†å›¾ç‰‡åˆ†æˆ <code>7*7</code> å„ patchã€‚å›¾ç‰‡ä¸­å¿ƒåœ¨å“ªä¸ªæ ¼å­ï¼Œé‚£ä¸ªå„è‡ªå°±è´Ÿè´£é¢„æµ‹é‚£ä¸ªç‰©ä½“ã€‚ <strong>è¯¥æƒ…å†µæ— æ³•åº”å¯¹å¤šä¸ªç‰©ä½“ä¸­å¿ƒé‡å çš„çŠ¶å†µã€‚</strong></li><li>æ¯ä¸ªæ ¼å­é¢„æµ‹ <code>b=2</code> ä¸ª BBOXï¼Œbbox åŒ…æ‹¬ <code>[x, y, w, h]</code> æ¯ä¸ª bbox å¯¹åº”ä¸€ä¸ªç½®ä¿¡åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>n</mi><mi>f</mi><mi>i</mi><mi>d</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><msub><mi>P</mi><mi>r</mi></msub><mo stretchy="false">(</mo><mi>o</mi><mi>b</mi><mi>j</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo stretchy="false">)</mo><mo>Ã—</mo><mi>I</mi><mi>o</mi><msubsup><mi>U</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow><mrow><mi>t</mi><mi>r</mi><mi>u</mi><mi>t</mi><mi>h</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">confidence =P_r(object)\times IoU^{truth}_{pred}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">ce</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.05724em;">bj</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2683em;vertical-align:-0.4192em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.4169em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight">d</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4192em;"><span></span></span></span></span></span></span></span></span></span></li><li><strong>è¾“å‡ºç»“æœï¼š</strong> å¯¹äº YOLO V1 å°±æ˜¯ ï¼šä¸¤ä¸ª <code>[c, x, y, w, h]</code> + <code>[20 classes]</code>ã€‚ç„¶åå›¾ç‰‡åˆ†ä¸º <code>7*7</code> patchã€‚</li></ol><ul><li>åœ¨ä»£ç ä¸­ï¼Œå¯ä»¥ç›´æ¥ç”¨çº¿æ€§å±‚ç»Ÿä¸€è¿›è¡Œå‰å‘ä¼ æ’­ï¼Œæœ€å reshape æˆ <code>[batch size, 7, 7, 30]</code> å³å¯ã€‚</li></ul><ol start="4"><li>å°†å¾—åˆ°çš„å¸¦æœ‰ score çš„ bbox é€šè¿‡ NMS æˆ–å…¶ä»– post process æ–¹æ³•è§£ç ï¼Œå¾—åˆ°å€™é€‰æ¡†ã€‚å¤§è‡´æµç¨‹æ˜¯ï¼š <ul><li>è®¡ç®—æ‰€æœ‰ bbox çš„ <code>score=c * p_class</code>ã€‚ <strong>è¯¥æ­¥éª¤å¯¼è‡´è®­ç»ƒä¸é¢„æµ‹æ—¶å€™ï¼Œå­˜åœ¨ä¸ä¸€è‡´ã€‚è®­ç»ƒæ—¶å€™çš„ classification ä¸ regression æ—¶åˆ†å¼€è®­ç»ƒçš„ã€‚</strong></li><li><strong>é‡å¤è¯¥æ­¥éª¤ï¼š</strong> é€‰å‡ºå‰©ä½™ bbox ä¸­ï¼Œå…·æœ‰æœ€å¤§ score çš„ bboxï¼Œå»é™¤æ‰å…¶ä½™ bbox ä¸­ï¼Œä¸å…¶ IOU å¤§äºæŸä¸ªé˜ˆå€¼çš„ bboxã€‚</li></ul></li><li>loss çš„è®¡ç®—æ–¹å¼ï¼š</li></ol><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>Î»</mi><mtext>coordÂ </mtext></msub><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>objÂ </mtext></msubsup><mrow><mo fence="true">[</mo><msup><mrow><mo fence="true">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>i</mi></msub><mo fence="true">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo fence="true">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><mo fence="true">)</mo></mrow><mn>2</mn></msup><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>+</mo><msub><mi>Î»</mi><mtext>coordÂ </mtext></msub><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>objÂ </mtext></msubsup><mrow><mo fence="true">[</mo><msup><mrow><mo fence="true">(</mo><msqrt><msub><mi>w</mi><mi>i</mi></msub></msqrt><mo>âˆ’</mo><msqrt><msub><mover accent="true"><mi>w</mi><mo>^</mo></mover><mi>i</mi></msub></msqrt><mo fence="true">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo fence="true">(</mo><msqrt><msub><mi>h</mi><mi>i</mi></msub></msqrt><mo>âˆ’</mo><msqrt><msub><mover accent="true"><mi>h</mi><mo>^</mo></mover><mi>i</mi></msub></msqrt><mo fence="true">)</mo></mrow><mn>2</mn></msup><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>+</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>objÂ </mtext></msubsup><msup><mrow><mo fence="true">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>C</mi><mo>^</mo></mover><mi>i</mi></msub><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>+</mo><msub><mi>Î»</mi><mtext>noobjÂ </mtext></msub><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>0</mn></mrow><mi>B</mi></munderover><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>noobjÂ </mtext></msubsup><msup><mrow><mo fence="true">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>C</mi><mo>^</mo></mover><mi>i</mi></msub><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>+</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><msup><mi>S</mi><mn>2</mn></msup></munderover><msubsup><mn mathvariant="double-struck">1</mn><mi>i</mi><mtext>objÂ </mtext></msubsup><munder><mo>âˆ‘</mo><mrow><mi>c</mi><mo>âˆˆ</mo><mtext>Â classesÂ </mtext></mrow></munder><msup><mrow><mo fence="true">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mi>i</mi></msub><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{aligned} &amp;\lambda_{\text {coord }} \sum_{i=0}^{S^2} \sum_{j=0}^B \mathbb{1}_{i j}^{\text {obj }}\left[\left(x_i-\hat{x}_i\right)^2+\left(y_i-\hat{y}_i\right)^2\right] \\ &amp;+\lambda_{\text {coord }} \sum_{i=0}^{S^2} \sum_{j=0}^B \mathbb{1}_{i j}^{\text {obj }}\left[\left(\sqrt{w_i}-\sqrt{\hat{w}_i}\right)^2+\left(\sqrt{h_i}-\sqrt{\hat{h}_i}\right)^2\right] \\ &amp;+\sum_{i=0}^{S^2} \sum_{j=0}^B \mathbb{1}_{i j}^{\text {obj }}\left(C_i-\hat{C}_i\right)^2 \\ &amp;+\lambda_{\text {noobj }} \sum_{i=0}^{S^2} \sum_{j=0}^B \mathbb{1}_{i j}^{\text {noobj }}\left(C_i-\hat{C}_i\right)^2 \\ &amp;+\sum_{i=0}^{S^2} \mathbb{1}_i^{\text {obj }} \sum_{c \in \text { classes }}\left(p_i(c)-\hat{p}_i(c)\right)^2 \\ &amp; \end{aligned} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:19.8542em;vertical-align:-9.6771em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.1771em;"><span style="top:-12.1771em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"></span></span><span style="top:-8.4894em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"></span></span><span style="top:-4.8017em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"></span></span><span style="top:-1.114em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"></span></span><span style="top:2.5737em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"></span></span><span style="top:5.0432em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:9.6771em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.1771em;"><span style="top:-12.1771em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">coordÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">objÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span></span></span><span style="top:-8.4894em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">coordÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">objÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">[</span></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7742em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.7342em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2658em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.354em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4378em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">h</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.3978em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewBox="0 0 400000 1944" preserveAspectRatio="xMinYMin slice"><path d="M983 90
l0 -0
c4,-6.7,10,-10,18,-10 H400000v40
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4022em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.654em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">]</span></span></span></span></span><span style="top:-4.8017em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">objÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.354em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-1.114em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobjÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">noobjÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9468em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.354em;"><span style="top:-3.6029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:2.5737em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9739em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">objÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mrel mtight">âˆˆ</span><span class="mord text mtight"><span class="mord mtight">Â classesÂ </span></span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3295em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:5.0432em;"><span class="pstrut" style="height:3.9739em;"></span><span class="mord"><span class="mord"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:9.6771em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><p>å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mn mathvariant="double-struck">1</mn><mrow><mi>i</mi><mi>j</mi></mrow><mtext>objÂ </mtext></msubsup></mrow><annotation encoding="application/x-tex">\mathbb{1}_{i j}^{\text {obj }}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.38em;vertical-align:-0.413em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">objÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span></span> ç›¸å½“äº maskï¼Œä»…å¯¹å­˜åœ¨ label çš„ grid è¿›è¡Œè®¡ç®—æ¢¯åº¦ã€‚</p></li><li><p>å®½åº¦äºé•¿åº¦é‡‡ç”¨æ ¹å·ï¼Œæ˜¯å¸Œæœ›èƒ½å¤Ÿé€šè¿‡éçº¿æ€§ï¼Œæ¥æ›´å¥½åœ°å¯¹å°ç‰©ä½“å’Œå¤§ç‰©ä½“è¿›è¡Œå›å½’ã€‚</p></li><li><p>ç‰©ä½“æ£€æµ‹å­˜åœ¨æ ·æœ¬éå¹³è¡¡æƒ…å†µï¼Œéœ€è¦è°ƒæ•´æ­£è´Ÿæ ·æœ¬é—´çš„æŸå¤±æƒé‡ã€‚</p></li></ul><h4 id="ç¼ºç‚¹æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ç¼ºç‚¹æ€»ç»“" aria-hidden="true">#</a> ç¼ºç‚¹æ€»ç»“ï¼š</h4><ul><li>å¯¹ä¸­å¿ƒç‚¹é‡å çš„ç‰©ä½“ã€æ‹¥æŒ¤æƒ…å†µçš„åœºæ™¯ä¸å¥½ã€‚æ— æ³•è¿›è¡Œé¢„æµ‹ã€‚</li><li>å¯¹å°ç‰©ä½“ä¸å¥½ï¼Œå¯¹å½¢çŠ¶å˜åŒ–å¤§çš„ç‰©ä½“ä¸å¥½</li><li>æ²¡ç”¨ BN</li><li>åŸºæœ¬ä¸Šæ²¡æœ‰ä½¿ç”¨ YOLOv1 äº†ã€‚</li></ul><h2 id="yolo-2" tabindex="-1"><a class="header-anchor" href="#yolo-2" aria-hidden="true">#</a> YOLO 2</h2><p><strong>You Only Look Once: Unified, Real-Time Object Detection</strong></p><p>ç›¸å¯¹äº YOLO 1ï¼Œçš„æ”¹è¿›ï¼š</p><h4 id="batch-norm" tabindex="-1"><a class="header-anchor" href="#batch-norm" aria-hidden="true">#</a> batch norm</h4><h4 id="ç²¾åº¦æ›´é«˜çš„åˆ†ç±»å™¨" tabindex="-1"><a class="header-anchor" href="#ç²¾åº¦æ›´é«˜çš„åˆ†ç±»å™¨" aria-hidden="true">#</a> ç²¾åº¦æ›´é«˜çš„åˆ†ç±»å™¨</h4><ul><li>YOLO 2 å°†å›¾ç‰‡åˆ†ä¸ºäº† <code>13*13</code> ä¸ª patchï¼Œæ¯ä¸ªåŒºåŸŸæœ‰ 5 ä¸ª anchorï¼Œå¦‚æœæœ‰ 20 ä¸ªç›®æ ‡ç±»åˆ«éœ€è¦é¢„æµ‹ï¼Œåˆ™è¾“å‡ºæ ¼å¼ä¸ºï¼š<code>[N, 13, 13, 5*(5+20)]</code>ã€‚</li><li>YOLO 1 æ˜¯åœ¨ <code>224*224</code> çš„å›¾ç‰‡ä¸Šè®­ç»ƒçš„ï¼Œ YOLOv2 ç›´æ¥åœ¨ <code>448 * 448</code> çš„åˆ†è¾¨ç‡ä¸Šè¿›è¡Œè®­ç»ƒã€‚</li></ul><h4 id="å¤šå°ºåº¦è®­ç»ƒ" tabindex="-1"><a class="header-anchor" href="#å¤šå°ºåº¦è®­ç»ƒ" aria-hidden="true">#</a> å¤šå°ºåº¦è®­ç»ƒ</h4><p>é¢„å…ˆåˆ†é…å¥½ä¸åŒå‚¨å­˜çš„å›¾åƒé›†ï¼Œå¦‚ 320, 352, ... 608 ç­‰ç­‰ï¼Œæ¯ç»è¿‡ 10 ä¸ª epochï¼Œå°±éšæœºé€‰æ‹©ä¸€ä¸ªæ–°çš„å›¾åƒå°ºå¯¸æ¥è¿›è¡Œè®­ç»ƒã€‚è¿™ä¸­å¤šå°ºåº¦è¾“å…¥ï¼Œä½¿å¾—æ¨¡å‹åœ¨é¢„æµ‹è¯•ï¼Œæ”¯æŒå„ç§å¤§å°å°ºå¯¸å›¾ç‰‡çš„é¢„æµ‹ã€‚</p><h4 id="fine-grained-ç‰¹å¾" tabindex="-1"><a class="header-anchor" href="#fine-grained-ç‰¹å¾" aria-hidden="true">#</a> Fine-grained ç‰¹å¾</h4><ul><li>ç”¨ä¸åŒç¨‹åº¦çš„ä¸‹é‡‡æ ·ï¼Œæ¥å­¦ä¹ æµ…å±‚ã€æ·±å±‚ä¿¡æ¯ã€‚æ¨¡å‹åœ¨ <code>26 * 26</code> åˆ†è¾¨ç‡çš„é‡‡æ ·å±‚ï¼Œæ·»åŠ äº†ä¸€ä¸ªç±»ä¼¼ resnet çš„é€šé“ï¼Œå°†æµ…å±‚ç½‘ç»œå­¦åˆ°çš„ä¸€äº›å®è§‚ä¿¡æ¯ä¿ç•™äº†ä¸‹æ¥ã€‚å¹¶ä¸ºæ¨¡å‹æ•´ä½“å¸¦æ¥äº† 1% çš„æ•ˆæœæå‡ã€‚</li></ul><h4 id="ã€é‡ç‚¹ã€‘anchor" tabindex="-1"><a class="header-anchor" href="#ã€é‡ç‚¹ã€‘anchor" aria-hidden="true">#</a> ã€é‡ç‚¹ã€‘Anchor</h4><p>ç›¸æ¯”äº YOLO 1 æ²¡æœ‰ä¾æ®åœ°è¿›è¡Œé¢„æµ‹ï¼ŒåŸºäºä¸€ä¸ªå…ˆéªŒçŸ¥è¯†çš„ anchor æ¥é¢„æµ‹ï¼Œä½¿å¾—ä»»åŠ¡æ›´åŠ å®¹æ˜“ã€‚Anchor åˆ†ä¸ºé”šç‚¹ä¸ anchor boxï¼Œä¸€ä¸ªé”šç‚¹å¯ä»¥å¯¹åº”å¤šä¸ª anchor boxï¼ˆå¦‚ fast rcnnï¼Œä¸€ä¸ª anchor é”šç‚¹å¯¹åº” 9 å„ anchor boxï¼‰ã€‚R-CNN ä¸­ Anchor ç›¸å½“äº <strong>å…ˆéªŒçŸ¥è¯†</strong> ï¼Œæ˜¯é€šè¿‡å¯¹ VOC å’Œ COCO æ•°æ®é›†çš„ bbox è¿›è¡Œ kmean èšç±»åå¾—å‡ºæ¥çš„ã€‚ <strong>Faster-RCNN ä¸­çš„ Anchor çš„å®½é«˜å’Œå¤§å°æ˜¯æ‰‹åŠ¨æŒ‘é€‰çš„)</strong></p><p>Anchor çš„ä½œç”¨å¤§è‡´ä¸ºï¼š</p><ul><li><strong>ä½ç½®æç¤ºï¼š</strong> é¢„æµ‹ç›®æ ‡è·ç¦»æ›´è¿‘äº†</li><li><strong>å½¢çŠ¶æç¤ºï¼š</strong> é•¿å®½æ¯”ï¼ˆaspect ratioï¼‰</li><li><strong>å°ºåº¦æç¤ºï¼š</strong> å°ºåº¦ä¸é¢„æµ‹ç‰©ä½“æ¥è¿‘ã€‚</li></ul><p>é‡‡ç”¨äº† Anchor åï¼Œloss function çš„æ”¹å˜ï¼Œé¢„æµ‹ç›®æ ‡ä» yolo 1 çš„ <code>[c, x, y, w, h]</code> æ›´æ¢ä¸ºäº†è®¡ç®—ä» Anchor å˜æ¢åˆ° GT çš„åç§»é‡ <code>[t_x, t_y, t_w, t_h]</code>ï¼Œé€šå¸¸ç§°ä¸º offsetã€‚</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>t</mi><mi>x</mi><mi>p</mi></msubsup><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mi>p</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>a</mi></msub></mrow><msub><mi>w</mi><mi>a</mi></msub></mfrac><mo separator="true">,</mo><msubsup><mi>t</mi><mi>w</mi><mi>p</mi></msubsup><mo>=</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mfrac><msub><mi>w</mi><mi>p</mi></msub><msub><mi>w</mi><mi>a</mi></msub></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> t^p_x = \frac {x_p-x_a}{w_a}, t^p_w = log(\frac{w_p}{w_a}) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9614em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.9436em;vertical-align:-0.836em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p><p>è®¡ç®— loss æ—¶ï¼Œä¸ gt ä¸ Anchor çš„åç§»é‡è®¡ç®—æ¢¯åº¦ã€‚</p><p>YOLO 2 ä¸­çš„ Anchor é€šè¿‡ Kmeansï¼Œä»ä¸åŒæ•°æ®é›†ä¸­èšç±»å¾—åˆ°ï¼Œ<code>k=5</code> ç›¸å½“äºé€‰äº† Avg IoU æ›²çº¿ elbow å¤„çš„ k å€¼ã€‚åœ¨æºç ä¸­ï¼ŒAnchor ä»¥ <code>anchors = 10,13, 16,30, 33,23, 30,61, 62,45, ...</code> çš„æ–¹å¼å‚¨å­˜ï¼Œå¦‚ä¸Šä¾‹ <code>16,33</code> ä»£è¡¨ç¬¬ä¸€ä¸ª anchor çš„ w å’Œ hã€‚</p><h4 id="yolo-2-çš„è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#yolo-2-çš„è¾“å‡º" aria-hidden="true">#</a> YOLO 2 çš„è¾“å‡º</h4><p>åŸºäº Anchor box ï¼Œæˆ‘ä»¬éœ€è¦å¯¹éœ€è¦é¢„æµ‹çš„ bbox è¿›è¡Œé¢„å¤„ç†ï¼š</p><ol><li><p>raw bboxï¼š<code>[x_0, y_0, w_0, h_0]</code></p></li><li><p>normalize bbox by image W and Hï¼š<code>[x_0/W, y_0/H, w_0/W, h_0/H]</code></p></li><li><p>ç¼©æ”¾åˆ° <code>13*13</code> å°ºåº¦ï¼š<code>x_s = 12 *x_0/W</code>ï¼Œå…¶ä½™æŒ‡æ ‡åŒç†</p></li><li><p>æ ¹æ® grid å¯¹ x å’Œ y è®¡ç®—åç§»é‡ï¼š<code>t_x = x_s - x_grid</code></p></li><li><p>æ ¹æ® anchor å¯¹ w å’Œ h è®¡ç®—åç§»é‡ï¼š<code>t_w = log(w_s/w_anchors)</code></p></li></ol><p>å› æ­¤ YOLO 2 çš„è¾“å‡ºå°±æ˜¯åŸºäº grid å’Œ anchor çš„åç§»é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>w</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">t_x, t_y, t_w, t_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><h4 id="yolo-2-æŸå¤±" tabindex="-1"><a class="header-anchor" href="#yolo-2-æŸå¤±" aria-hidden="true">#</a> YOLO 2 æŸå¤±</h4><p>åŸå§‹ YOLO 2 æŸå¤±ä¸º <code>t_x, t_y, t_w, t_h</code>å„é¡¹çš„ MSE ä»¥åŠåˆ†ç±»å™¨ï¼Œconfident ç­‰ MSE æŸå¤±å’Œã€‚</p><p>å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mi>x</mi></msub><mo>âˆ’</mo><msub><mi>c</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">\sigma (t_x) = g_x - c_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">g_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸ºé¢„å¤„ç†åçš„ gt bbox åæ ‡ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">c_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸º grid åæ ‡ã€‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>w</mi></msub><mo>=</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mfrac><msub><mi>g</mi><mi>w</mi></msub><msub><mi>p</mi><mi>w</mi></msub></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t_w = log(\frac {g_w}{p_w})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2311em;vertical-align:-0.4811em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>w</mi></msub></mrow><annotation encoding="application/x-tex">g_w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸ºé¢„å¤„ç†åçš„ gt bbox å®½åº¦ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>w</mi></msub></mrow><annotation encoding="application/x-tex">p_w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸º anchor å®½åº¦ã€‚å¾—åˆ°è¾“å‡ºåï¼Œå¯ä»¥é€šè¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>x</mi></msub><mo>=</mo><mi>Ïƒ</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo stretchy="false">)</mo><mo>+</mo><msub><mi>c</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">b_x = \sigma(t_x)+c_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>w</mi></msub><mo>=</mo><msub><mi>p</mi><mi>w</mi></msub><msup><mi>e</mi><msub><mi>t</mi><mi>w</mi></msub></msup></mrow><annotation encoding="application/x-tex">b_w = p_we^{t_w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.988em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> å¾—åˆ°é¢„æµ‹çš„ bbox ä½ç½®ã€‚</p><h2 id="yolo-v3" tabindex="-1"><a class="header-anchor" href="#yolo-v3" aria-hidden="true">#</a> YOLO v3</h2><p><strong>YOLOv3: An Incremental Improvement</strong></p><p>YOLO v3 å¼€å§‹ï¼Œç½‘ç»œç»“æ„é€æ¸å½¢æˆäº†æ¨¡å—åŒ–ï¼Œå‡ºç°äº† backbone, neck, head çš„å½¢å¼ã€‚YOLO v3 çš„ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li>åŒæ ·é‡‡ç”¨ Kmeans æå– anchor boxï¼Œä½†è¿™æ¬¡æå–äº† 9 ä¸ªã€‚</li><li>é‡‡ç”¨äº† logistic regression è¿›è¡Œç‰©ä½“åˆ†ç±»ã€‚</li><li>é‡‡ç”¨äº† 3 ä¸ªå°ºåº¦è¿›è¡Œ bbox é¢„æµ‹ã€‚</li></ul><h4 id="yolo-v3-æ¶æ„ä¸è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#yolo-v3-æ¶æ„ä¸è¾“å‡º" aria-hidden="true">#</a> YOLO v3 æ¶æ„ä¸è¾“å‡º</h4><figure><img src="https://img-blog.csdnimg.cn/9e54c99383f74d2eab2d4e46f909eae8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p6X5Y2B5YWt6KaB5Yqq5Yqb,size_20,color_FFFFFF,t_70,g_se,x_16" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><ol><li><p>å…ˆå¯¹ input è¿›è¡Œ backbone ç¼–ç ï¼ŒåŸè®ºæ–‡é‡‡ç”¨çš„æ˜¯ Darknetã€‚</p></li><li><p>å°† backbone æœ€å 3 å±‚çš„ç»“æœï¼Œä¼ å…¥ neckï¼ŒåŸæ–‡ä¸­ä¸º YOLO_FPNï¼ˆä½“ç°ä¸ºä¸Šå›¾ä¸­çš„å¤šæ¬¡ <code>Conv2D Block 5L</code> + <code>UpSampling2D</code>ï¼‰ï¼Œå¾—åˆ° 3 ä¸ªä¸åŒå°ºå¯¸çš„ <code>yolo_feats</code>ã€‚( <code>UpSampling</code> é‡‡ç”¨äº†æ™®é€šçš„ <code>interpolate</code>)</p></li><li><p>å°†ä¸Šæ­¥ä¸­ 3 ç§ä¸åŒçš„ yolo feats ä¼ å…¥åˆ°ä¸åŒçš„ head ä¸­ï¼ˆæ–‡ä¸­é‡‡ç”¨äº†ç®€å•çš„ conv å¤´ï¼‰ï¼Œå¦‚ä¸Šå›¾çº¢è‰²æ¡†ï¼Œæœ€åå¾—åˆ°é¢„æµ‹ç»“æœã€‚</p></li><li><p>3 ç§ scale åˆ†åˆ«é¢„æµ‹ 3 ä¸ªä¸åŒçš„ anchor boxï¼Œæ¯ä¸ª anchor box é¢„æµ‹ 80 ä¸ªç±»åˆ«å’Œåç§»é‡ 5 å…ƒç»„ï¼Œè¾“å‡ºç»“æœæ ¼å¼ä¸º <code>[c_x, t_x, t_y, t_w, t_h]</code> + <code>[class]*80</code>ã€‚å› æ­¤ä¸€ä¸ªå›¾ç‰‡çš„è¾“å‡ºç»“æœä¸ºï¼š</p></li></ol><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#24292E;">[</span><span style="color:#005CC5;">13</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">13</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">80</span><span style="color:#24292E;">)]</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#005CC5;">26</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">26</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">80</span><span style="color:#24292E;">)]</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#005CC5;">52</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">52</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">3</span><span style="color:#D73A49;">*</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">1</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">80</span><span style="color:#24292E;">)]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ 3 ä¸ºæ¯ç§ scale ä¸‹é¢„æµ‹ archor çš„æ•°é‡ï¼Œä¸ºè¶…å‚æ•°ã€‚ï¼ˆ<code>13*13</code> ç”¨äºé¢„æµ‹å¤§ç‰©ä½“æ›´å…·æœ‰ä¼˜åŠ¿ï¼‰</p><ol start="5"><li>æœ€åé‡‡ç”¨ NMS ç­‰æ–¹å¼è¿›è¡Œè§£ç ã€‚</li></ol><h4 id="ã€é‡ç‚¹ã€‘è¾“å…¥å¤„ç†æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ã€é‡ç‚¹ã€‘è¾“å…¥å¤„ç†æ–¹å¼" aria-hidden="true">#</a> ã€é‡ç‚¹ã€‘è¾“å…¥å¤„ç†æ–¹å¼</h4><ol><li>å°† gt çš„ bbox åˆ†åˆ«è¿›è¡Œå½’ä¸€åŒ–ã€‚</li><li>å‡è®¾ anchor ä¸ bbox ä¸­å¿ƒç‚¹é‡å ï¼Œæ ¹æ® anchor çš„ w å’Œ hï¼Œè®¡ç®—æ¯ä¸ª anchor å¯¹åº”æ¯ä¸ª bbox çš„ç†è®º IOU å€¼ã€‚</li><li><code>obj_mask</code> çš„è®¡ç®—ï¼šæ¯ä¸ª bbox å¯¹åº”çš„ <code>obj_mask</code> ç›®æ ‡å½¢çŠ¶ä¸º <code>[b, A, c, x, y]</code>ã€‚é€šè¿‡ <code>floor(g_x), floor(g_y)</code> ç¡®å®šé¢„æµ‹è¯¥ç‰©ä½“å¯¹åº”çš„ cellï¼ˆå³ <code>x, y</code> å€¼ï¼‰ï¼Œ<code>A</code> ä¸º bbox å¯¹åº”å…·æœ‰æœ€å¤§ IOU çš„ anchorã€‚å¯¹äºä»¥ä¸Šç¡®å®šå¥½çš„ <code>[x, y, A]</code> å…¶å¯¹åº”çš„ <code>obj_mask</code> ç›®æ ‡å€¼ä¸º 1ã€‚å¯¹åº”çš„ <code>non_obj_mask</code> ä¸º 1ã€‚</li><li>å¯¹ <code>non_obj_mask</code>ï¼Œå¦‚æœ bbox ä¸ anchor çš„ IOU å¤§äºæŸä¸ªé˜ˆå€¼ï¼Œåˆ™å°†å¯¹åº”çš„ target ç›®æ ‡è®¾ç½®ä¸º 0ã€‚ï¼ˆè®¡ç®—æŸå¤±æ—¶å€™ï¼Œæˆ‘ä»¬å°†ä¸è®¡ç®—è¿™ä¸ª cell çš„æŸå¤±ã€‚ï¼‰</li></ol><h2 id="yolo-4" tabindex="-1"><a class="header-anchor" href="#yolo-4" aria-hidden="true">#</a> YOLO 4</h2><p><strong>YOLOv4: Optimal Speed and Accuracy of Object Detection</strong></p><p>YOLO 4 å¼€å§‹ï¼ŒYOLO åŸä½œè€…å°±é€€ç¾¤äº†ã€‚YOLO v4 ä¸­ï¼Œæ–°ä½œè€…å¯¹å½±å“ YOLO æ•ˆæœçš„ä¸¤ä¸­æ–¹é¢è¿›è¡Œäº†å®éªŒæµ‹è¯•ï¼š</p><ul><li><p>Bag of freebiesï¼šä¸å½±å“ inferenceï¼Œåªå½±å“è®­ç»ƒè¿‡ç¨‹çš„æ–¹æ³•ï¼Œå¦‚æ•°æ®å¢å¹¿ï¼Œå¯¹æŠ—å­¦ä¹ ï¼ŒæŸå¤±å‡½æ•°ç­‰ã€‚</p></li><li><p>Bag of specialsï¼šå½±å“ inference çš„æ•ˆæœæå‡æ–¹æ³•ï¼Œå¦‚ post-processing æ–¹æ¡ˆç­‰ã€‚</p></li></ul><h4 id="yolo-v4-é‡‡å–çš„æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#yolo-v4-é‡‡å–çš„æ–¹æ¡ˆ" aria-hidden="true">#</a> YOLO v4 é‡‡å–çš„æ–¹æ¡ˆ</h4><p><strong>Bag of Freebies (BoF) for backbone:</strong></p><p>CutMix and Mosaic data augmentation, DropBlock regularization, Class label smoothing</p><p>PSï¼šè®ºæ–‡ä¸­æœ‰å¤§é‡çš„å®éªŒå¯¹æ¯”æ•°æ®ã€‚</p><p><strong>Bag of Specials (BoS) for backbone</strong></p><p>Mish activation, Cross-stage partial connections (CSP), Multiinput weighted residual connections (MiWRC)</p><p><strong>Bag of Freebies (BoF) for detector</strong></p><p>CIoU-loss, CmBNï¼ˆCross mini-Batch Normalizationï¼‰, DropBlock regularization, Mosaic data augmentation, Self-Adversarial Training, Eliminate grid sensitivity, Using multiple anchors for a single ground truth, Cosine annealing scheduler , Optimal hyperparameters, Random training shapes</p><p><strong>Bag of Specials (BoS) for detector:</strong></p><p>Mish activation, SPP-block, SAM-block, PAN path-aggregation block, DIoU-NMS</p><p><strong>Backbone:</strong></p><p>CSPDarknet53ï¼šç›¸å½“äºåœ¨ resnet å¤–é¢å†åŠ ä¸€å±‚æ®‹å·®é“¾æ¥ã€‚</p><p><strong>Neck:</strong></p><ol><li>é‡‡ç”¨ SPP æ›¿ä»£äº† FPNã€‚</li></ol><p>SPPï¼šé€šè¿‡ä¸åŒçš„æ­¥é•¿å’Œ window size ç¼–ç åŒä¸€ä¸ª featuresï¼Œè€Œåå°†ç»“æœè¿›è¡Œæ‹¼æ¥è¾“å‡ºï¼Œæ¯”å¦‚ç”¨ä¸åŒé…ç½®çš„ MaxPooling æ‹¼æ¥å‡ºå¤šç§ç»´åº¦çš„è¾“å‡ºã€‚</p><ol start="2"><li>ä¿®æ”¹åçš„ PANï¼Œç”¨ concat æ–¹å¼æ›¿ä»£äº†åŸæœ¬ PAN ç›¸åŠ çš„æ–¹å¼ã€‚PAN å‡ºè‡ª Path aggregation network for instance segmentationã€‚ç›¸å½“äºå† FPN çš„åŸºç¡€ä¸Šï¼Œåšäº†è¿›ä¸€æ­¥çš„è·¯å¾„å¢å¼ºã€‚</li></ol><p><strong>Head:</strong></p><p>YOLOv3 head</p><h4 id="bag-of-freebies-ç¬”è®°" tabindex="-1"><a class="header-anchor" href="#bag-of-freebies-ç¬”è®°" aria-hidden="true">#</a> Bag of Freebies ç¬”è®°</h4><h5 id="æ•°æ®å¢å¹¿" tabindex="-1"><a class="header-anchor" href="#æ•°æ®å¢å¹¿" aria-hidden="true">#</a> æ•°æ®å¢å¹¿</h5><ul><li><strong>Mosaicï¼š</strong> ç”¨å››å¼ å›¾ç‰‡æ‹¼æ¥æˆä¸€å¼ å›¾ç‰‡ã€‚</li><li><strong>mixupï¼š</strong> å°†å¤šå¼ å›¾ç‰‡ï¼Œé€šè¿‡ä¸åŒçš„é€æ˜åº¦èåˆèµ·æ¥ã€‚å®éªŒå‘ç°èåˆä¸¤å¼ å›¾æ•ˆæœå°±ä¸é”™äº†ï¼Œæ­¤å¤–åœ¨åŒä¸€ä¸ª batch ä¸­åš mixup å°±èƒ½æœ‰è¶³å¤Ÿå¥½çš„æ•ˆæœã€‚å›¾ç‰‡ç±»åˆ«å·®åˆ«è¶Šå¤§ï¼Œmixup æ•ˆæœè¶Šå¥½ã€‚</li><li><strong>cutoutï¼š</strong> éšæœºé®ç›–ä¸€éƒ¨åˆ†çš„åƒç´ ã€‚</li><li><strong>CutMixï¼š</strong> éšæœºç”¨å¦ä¸€å¼ å›¾ä¸Šçš„ä¸€éƒ¨åˆ†åƒç´ ï¼Œé®ç›–åŸå›¾çš„ä¸€éƒ¨åˆ†åƒç´ ã€‚</li></ul><h5 id="æ ‡ç­¾å·¥ç¨‹-label-engineering" tabindex="-1"><a class="header-anchor" href="#æ ‡ç­¾å·¥ç¨‹-label-engineering" aria-hidden="true">#</a> æ ‡ç­¾å·¥ç¨‹ label engineering</h5><ul><li>label smooth</li><li>disturbLabel äººä¸ºåœ°æ ‡é”™ä¸€äº› labelã€‚</li></ul><h5 id="æŸå¤±å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æŸå¤±å‡½æ•°" aria-hidden="true">#</a> æŸå¤±å‡½æ•°</h5><ul><li><p><strong>L1/L2 lossï¼š</strong> ç¼ºç‚¹åœ¨äºé¢„æµ‹çš„æ•´ä½“æ€§è¢«ç ´åäº†ï¼Œå‡è®¾ x å˜å¤§ï¼Œy å˜å°ï¼Œé‚£ä¹ˆæ€» loss å¯èƒ½è¿˜æ˜¯ä¸å˜çš„ï¼Œä½†å®é™…ä¸Šé¢„æµ‹å‡ºæ¥çš„ä½ç½®åç§»äº†å¾ˆå¤šã€‚å…¶æ¬¡ï¼ŒL1 ä¸ L2 loss å„è‡ªåœ¨è®­ç»ƒæ—¶éƒ½æœ‰ä¸ç¨³å®šæˆ–éš¾æ”¶æ•›çš„é—®é¢˜ã€‚</p></li><li><p><strong>IoU Lossï¼š</strong> å­˜åœ¨æŒ‡æ ‡æ— æ³•åæ˜ ï¼Œæˆ–åŒºåˆ†æ¨¡å‹é¢„æµ‹ç»“æœå¥½åçš„é—®é¢˜ã€‚å¦‚åŒæ—¶å½“ IoU ç›¸åŒï¼Œä½†æ˜¯å½¢çŠ¶ä¸åŒçš„æƒ…å†µï¼›æˆ– IoU éƒ½ä¸º 0 çš„æƒ…å†µã€‚</p></li><li><p><strong>GIOU lossï¼š</strong> å¯»æ‰¾ä¸€ä¸ªèƒ½å¤ŸåŒ…å«ä¸¤ä¸ª bbox çš„çŸ©å½¢ã€‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>I</mi><mi>o</mi><mi>U</mi><mo>=</mo><mi>I</mi><mi>o</mi><mi>U</mi><mo>âˆ’</mo><mfrac><mrow><mtext>Â çŸ©å½¢é¢ç§¯Â </mtext><mo>âˆ’</mo><mtext>Â ä¸¤ä¸ªÂ </mtext><mi>b</mi><mi>b</mi><mi>o</mi><mi>x</mi><mtext>Â æ€»é¢ç§¯Â </mtext></mrow><mtext>Â çŸ©å½¢é¢ç§¯Â </mtext></mfrac><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">GIoU = IoU - \frac{\text{ çŸ©å½¢é¢ç§¯ } - \text{ ä¸¤ä¸ª }bbox \text{ æ€»é¢ç§¯ }} {\text{ çŸ©å½¢é¢ç§¯ }}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Â </span><span class="mord cjk_fallback mtight">çŸ©å½¢é¢ç§¯</span><span class="mord mtight">Â </span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">Â </span><span class="mord cjk_fallback mtight">çŸ©å½¢é¢ç§¯</span><span class="mord mtight">Â </span></span><span class="mbin mtight">âˆ’</span><span class="mord text mtight"><span class="mord mtight">Â </span><span class="mord cjk_fallback mtight">ä¸¤ä¸ª</span><span class="mord mtight">Â </span></span><span class="mord mathnormal mtight">bb</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">x</span><span class="mord text mtight"><span class="mord mtight">Â </span><span class="mord cjk_fallback mtight">æ€»é¢ç§¯</span><span class="mord mtight">Â </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span>ï¼ˆä¸èƒ½è§£å†³ä¸¤ä¸ª bbox äº’ç›¸åŒ…å«çš„é—®é¢˜ã€‚ï¼‰</p></li><li><p><strong>DIoU Lossï¼š</strong> å¯»æ‰¾ä¸€ä¸ªèƒ½å¤ŸåŒ…å«ä¸¤ä¸ª bbox çš„çŸ©å½¢ï¼Œè®¡ç®—å…¶å¯¹è§’çº¿ cã€‚è®¡ç®—ä¸¤ä¸ª bbox ä¸­å¿ƒç‚¹è·ç¦» dã€‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>I</mi><mi>o</mi><mi>U</mi><mo>=</mo><mn>1</mn><mo>âˆ’</mo><mi>I</mi><mi>o</mi><mi>U</mi><mo>+</mo><mfrac><msup><mi>d</mi><mn>2</mn></msup><msup><mi>c</mi><mn>2</mn></msup></mfrac></mrow><annotation encoding="application/x-tex">DIoU = 1 - IoU + \frac {d^2}{c^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ã€‚ï¼ˆæ— æ³•è§£å†³å½¢çŠ¶å¸¦æ¥çš„é—®é¢˜ï¼‰</p></li><li><p><strong>CIoU Lossï¼š</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>I</mi><mi>o</mi><mi>U</mi><mo>=</mo><mi>D</mi><mi>I</mi><mi>o</mi><mi>U</mi><mo>+</mo><mi>Î±</mi><mi>v</mi></mrow><annotation encoding="application/x-tex">CIoU = DIoU + \alpha v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Î±v</span></span></span></span> å…¶ä¸­</p></li></ul><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>v</mi><mo>=</mo><mfrac><mn>4</mn><msup><mi>Ï€</mi><mn>2</mn></msup></mfrac><msup><mrow><mo fence="true">(</mo><mi>arctan</mi><mo>â¡</mo><mfrac><msup><mi>w</mi><mrow><mi>g</mi><mi>t</mi></mrow></msup><msup><mi>h</mi><mrow><mi>g</mi><mi>t</mi></mrow></msup></mfrac><mo>âˆ’</mo><mi>arctan</mi><mo>â¡</mo><mfrac><mi>w</mi><mi>h</mi></mfrac><mo fence="true">)</mo></mrow><mn>2</mn></msup><mspace linebreak="newline"></mspace><mi>Î±</mi><mo>=</mo><mfrac><mi>v</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>I</mi><mi>o</mi><mi>U</mi><mo stretchy="false">)</mo><mo>+</mo><mi>v</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex"> v=\frac{4}{\pi^2}\left(\arctan \frac{w^{g t}}{h^{g t}}-\arctan \frac{w}{h}\right)^2\\ \alpha=\frac{v}{(1-I o U)+v} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.6246em;vertical-align:-0.95em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mop">arctan</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4706em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7196em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7936em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">arctan</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.6746em;"><span style="top:-3.9235em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0436em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>â€‹ å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span> ç”¨äºè°ƒæ•´è®­ç»ƒè¿‡ç¨‹ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> çš„é‡è¦ç¨‹åº¦ã€‚</p><ul><li><strong>generalized Focal Lossï¼š</strong> å°è¯•è§£å†³æ¨¡å‹è®­ç»ƒä¸ NMS è§£ç è¿‡ç¨‹ä¸­çš„ä¸ä¸€è‡´é—®é¢˜ã€‚</li><li><strong>distribution bboxï¼š</strong> å°è¯•è§£å†³ç›®æ ‡è¾¹æ¡†æ¨¡ç³Šé—®é¢˜ã€‚</li></ul><h5 id="æ­£åˆ™åŒ–æ”¹è‰¯" tabindex="-1"><a class="header-anchor" href="#æ­£åˆ™åŒ–æ”¹è‰¯" aria-hidden="true">#</a> æ­£åˆ™åŒ–æ”¹è‰¯</h5><ul><li><strong>DropBlockï¼š</strong> ç”±äº Conv å­˜åœ¨ local info share æƒ…å†µï¼Œå› æ­¤æ™®é€šçš„ dropout å¯¹ Conv æ•ˆæœæ˜¯ä¸å¥½çš„ã€‚å› æ­¤å¯ä»¥é‡‡ç”¨ DropBlockï¼ŒåŸºäº patch è¿›è¡Œ dropoutã€‚</li></ul><h4 id="bag-of-specials" tabindex="-1"><a class="header-anchor" href="#bag-of-specials" aria-hidden="true">#</a> Bag of specials</h4><p>åªå½±å“ inference çš„æ•ˆæœæå‡æ–¹æ³•ï¼Œå¦‚ post-processing æ–¹æ¡ˆç­‰ã€‚</p><h5 id="æ¿€æ´»å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ¿€æ´»å‡½æ•°" aria-hidden="true">#</a> æ¿€æ´»å‡½æ•°</h5><ul><li><p>relu æ˜¯ non-zero centered çš„ï¼Œåœ¨ bp æ—¶å€™å®¹æ˜“ zigzagï¼Œå½±å“è®­ç»ƒé€Ÿåº¦å’Œæ•ˆæœã€‚</p></li><li><p>æ”¹è‰¯ï¼šswish/siluï¼ˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mi>x</mi><mi>Ïƒ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a = x\sigma (x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>ï¼‰ã€mish</p></li><li><p>YOLO v4 ä¸­è¿˜å°è¯•äº† leaky-Reluï¼ŒReLU6, parametric-ReLU ç­‰</p></li></ul><h4 id="æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#æ¡†æ¶" aria-hidden="true">#</a> æ¡†æ¶</h4><p>head ä¸­çš„è§£è€¦</p><ul><li>YOLO HEAD ä¸­ï¼Œclassification ä¸ IOU æŸå¤±ä¸å¯å…¼å¾—</li><li>è®­ç»ƒä¸­ï¼Œclassification è¶Šæ¥è¶Šå¥½</li><li>åœ¨ YOLOX ä¸­ï¼Œhead ä¸­æœ‰äº†æ¯”è¾ƒæˆç†Ÿçš„è§£è€¦æ–¹æ¡ˆï¼Œå°† classificationï¼Œregression ä¸ IOU åˆ†è§£å¼€æ¥ã€‚</li></ul><p>FC å’Œ CONV çš„åŒºåˆ«</p><ul><li>FC å¯¹ classification æ•ˆæœå¥½ï¼ŒConv å¯¹ regression æ•ˆæœå¥½ã€‚</li></ul><p>æ·±å±‚è§£è€¦</p><ul><li>tsd æ–¹æ¡ˆï¼šæ•ˆæœå¥½ï¼Œä½†é€Ÿåº¦å¾ˆæ…¢ã€‚</li></ul><h4 id="yolo-5" tabindex="-1"><a class="header-anchor" href="#yolo-5" aria-hidden="true">#</a> YOLO 5</h4><p><a href="https://github.com/ultralytics/yolov5" target="_blank" rel="noopener noreferrer">YOLO v5 github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ‰¾ä¸åˆ°è®ºæ–‡ã€‚</p><h4 id="yolo-v6" tabindex="-1"><a class="header-anchor" href="#yolo-v6" aria-hidden="true">#</a> YOLO v6</h4><p>ç¾å›¢çš„ä½œå“ï¼Œæœ‰ä¸€éƒ¨åˆ†äº‰è®®ã€‚<a href="https://github.com/meituan/YOLOv6" target="_blank" rel="noopener noreferrer">YOLO V6 github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>è®ºæ–‡ï¼šYOLOv6: A Single-Stage Object Detection Framework for Industrial Applications</p><p>ä¸»è¦ç‚¹åœ¨äºï¼š</p><ul><li>è®­ç»ƒæ—¶å€™å°è¯•äº† self-distillation strategyã€‚è®­ç»ƒæ—¶å€™ï¼Œç”¨ä¸å¯»æ¥ä½ çš„æ¨¡å‹ä½œä¸ºæ•™å¸ˆæ¨¡å‹ï¼Œè’¸é¦æ–°ä»»åŠ¡ä¸‹çš„æ¨¡å‹ã€‚</li><li>ç›¸å¯¹äº YOLO v4ï¼Œå°è¯•äº†ä¸€äº›æ›´æ–°çš„ç²¾åº¦æå‡æ–¹æ¡ˆã€‚åŒ…æ‹¬è§£è€¦æ£€æµ‹å¤´ç­‰</li><li>å°è¯•äº† RepOptimizerï¼ˆReparameterizing Optimizerï¼‰ã€‚</li><li>é‡‡ç”¨äº† anchor free æ–¹å¼ï¼ˆanchor pointï¼‰</li></ul><h2 id="yolo-v7" tabindex="-1"><a class="header-anchor" href="#yolo-v7" aria-hidden="true">#</a> YOLO v7</h2><p>Trainable bag-of-freebies sets new state-of-the-art for real-time object detectors</p><p>YOLO V7 æ•´ä½“åŸºäº YOLO v5 å‡çº§ã€‚è®­ç»ƒæ—¶å€™çš„è¾“å…¥åƒç´ ä¸º <code>1280 * 1280</code> æˆ– <code>640*640</code></p><figure><img src="https://img-blog.csdnimg.cn/ae1b441e089b472f87658cb78797ab4f.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><h3 id="backbone" tabindex="-1"><a class="header-anchor" href="#backbone" aria-hidden="true">#</a> Backbone</h3><p>ç”± stem + ELANNet + SPPCSPC ç»„æˆã€‚</p><h4 id="stem" tabindex="-1"><a class="header-anchor" href="#stem" aria-hidden="true">#</a> <strong>Stem</strong></h4><p>ç”±å¤šå±‚ CBSï¼ˆ<code>conv + bn + silu</code>ï¼‰ ç»„æˆï¼Œtiny æ¨¡å‹ 2 å±‚ï¼Œå¸¸è§„æ¨¡å‹ 4 å±‚ã€‚</p><h4 id="elan-net" tabindex="-1"><a class="header-anchor" href="#elan-net" aria-hidden="true">#</a> ELAN NET</h4><p>æ•´ä¸ª ELAN NET å¯ä»¥çœ‹ä½œ <code>ELAN</code> + 3 ä¸ª <code>MP + ELAN</code> æ¨¡å—çš„æ‹¼æ¥ã€‚</p><h5 id="ä»-vovnet-åˆ°-elan-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#ä»-vovnet-åˆ°-elan-æ¨¡å—" aria-hidden="true">#</a> ä» VoVNet åˆ° ELAN æ¨¡å—</h5><figure><img src="/assets/img/yolo/image-20221120224254901.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p><strong>VoVNet</strong></p><ul><li>densenet æ¯å±‚ä¹‹é—´éƒ½æœ‰ resdual connectionï¼Œä½†æ˜¯è®¡ç®—æ•ˆç‡å¤ªæ…¢ï¼Œäºæ˜¯æå‡ºäº† VoVNetï¼Œåœ¨åš features aggregation åŒæ—¶ï¼Œæé«˜æ•ˆç‡ã€‚</li></ul><p><strong>CSPVoVNet</strong></p><ul><li>å‚è€ƒ CSP æ€æƒ³ï¼Œå† VoVNet å¤–å±‚åŠ å…¥äº†é¢å¤–çš„é€šé“ã€‚</li></ul><p><strong>ELAN &amp; E-ELAN</strong></p><ul><li>å‚è€ƒäº† ShuffleNet v2 çš„æ€æƒ³ï¼Œç®€åŒ– CSPVoVNetï¼Œç›®çš„åœ¨äºæ›´é«˜æ•ˆçš„æ¨¡å‹è®­ç»ƒå’Œæ¨ç†ã€‚ï¼š <ul><li>Tensor çš„è¾“å…¥è¾“å‡º channel æ•°è¶Šè¿‘ä¼¼ï¼Œæ¨ç†é€Ÿåº¦è¶Šå¿«ã€‚</li><li>Channel åˆ†ç»„æ•°é‡è¶Šå°è¶Šå¥½</li><li>ç½‘ç»œåˆ†æ”¯ï¼ˆfragmentï¼‰å‡å°‘äº†å¹¶è¡Œåº¦</li><li>å®éªŒè¯´æ˜ï¼ŒElementwise çš„æ“ä½œå¾ˆè€—æ—¶ã€‚</li></ul></li></ul><p><strong>å› æ­¤ YOLO v7 çš„åŸºç¡€å•å…ƒé‡‡ç”¨äº† ELANï¼Œè€Œ E-ELAN åªåœ¨ aux head ä¸­ä½¿ç”¨äº†ã€‚</strong> ELAN æ¨¡å—å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¼˜é›…çš„å®ç°ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#24292E;">outs </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">x_1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.conv1(x)</span></span>
<span class="line"><span style="color:#24292E;">x_2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.conv2(x)</span></span>
<span class="line"><span style="color:#24292E;">outs.append(x_1)</span></span>
<span class="line"><span style="color:#24292E;">outs.append(x_2)</span></span>
<span class="line"><span style="color:#24292E;">idx </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [i </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.num_blocks </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.concat_list[:</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">]]</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">range</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.num_blocks):</span></span>
<span class="line"><span style="color:#24292E;">    x_2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.bottlenecks[i](x_2)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> idx:  </span><span style="color:#6A737D;"># idx = [1, 3]</span></span>
<span class="line"><span style="color:#24292E;">        outs.append(x_2)</span></span>
<span class="line"><span style="color:#24292E;">        outs </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> outs[::</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]  </span><span style="color:#6A737D;"># [-1, -3]</span></span>
<span class="line"><span style="color:#24292E;">        x_all </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> paddle.concat(outs, </span><span style="color:#E36209;">axis</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.conv3(x_all)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="mp-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#mp-æ¨¡å—" aria-hidden="true">#</a> MP æ¨¡å—</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#24292E;">x_1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.conv1(</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.maxpool(x))</span></span>
<span class="line"><span style="color:#24292E;">x_2 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.conv3(</span><span style="color:#005CC5;">self</span><span style="color:#24292E;">.conv2(x))</span></span>
<span class="line"><span style="color:#24292E;">x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> paddle.concat([x_2, x_1], </span><span style="color:#E36209;">axis</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sppcspc" tabindex="-1"><a class="header-anchor" href="#sppcspc" aria-hidden="true">#</a> SPPCSPC</h4><p>é¡¾åæ€ä¹‰ï¼šSPP + CSP + Convï¼š</p><figure><img src="https://img-blog.csdnimg.cn/1a47ffd0e68041a7a0d9cd83ff6f1cfb.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><h3 id="neck" tabindex="-1"><a class="header-anchor" href="#neck" aria-hidden="true">#</a> Neck</h3><p>Neck éƒ¨åˆ† ä¸ºç»å…¸çš„ PAFPNã€‚å…¶ä¸­çš„å•å…ƒæ¨¡å—å˜æˆäº† <code>ELAN-W</code> + <code>CBS</code>ã€‚</p><h3 id="head" tabindex="-1"><a class="header-anchor" href="#head" aria-hidden="true">#</a> HEAD</h3><p>ä¸ YOLO v3 å¤§è‡´æ¡†æ¶ç›¸åŒï¼ŒåŒæ ·çš„åˆ†æˆäº† 3 ä¸ªä¸åŒçš„ scale æ¥è¿›è¡Œé¢„æµ‹ï¼Œæ¯ä¸ª scale æœ‰ 3 ä¸ª anchorã€‚</p><h4 id="æ·»åŠ äº†-repconv-é€šé“" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ äº†-repconv-é€šé“" aria-hidden="true">#</a> æ·»åŠ äº† RepConv é€šé“</h4><p>å† PAFPN çš„å„å±‚è¾“å‡ºå¤„ï¼Œé“¾æ¥ä¸Š RepConv æ¥ä½œä¸ºæ£€æµ‹å¤´ã€‚è¯¥æ€æƒ³æ¥æºäº RepConvN <a href="https://zhuanlan.zhihu.com/p/344324470" target="_blank" rel="noopener noreferrer">åŸä½œè€…è§£è¯»<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚Resnet ç”±äºæœ‰ shortcutï¼Œè®­ç»ƒæ•ˆæœå¥½ï¼Œä½†æ˜¯æ¨ç†é€Ÿåº¦ä¸å¿«ã€‚RepConvN æå‡ºäº†å¯ä»¥è®­ç»ƒä¸€ä¸ªå¤šåˆ†æ”¯æ¨¡å‹ï¼Œè€Œåå†æ¨ç†æ—¶å€™ï¼Œå°†å¤šåˆ†æ”¯æ¨¡å‹è½¬æ¢ä¸ºå•è·¯æ¨¡å‹ï¼Œä»¥æé«˜æ¨ç†é€Ÿåº¦å’Œç²¾åº¦ã€‚å®ç°æ–¹æ³•å°±æ˜¯ï¼š</p><figure><img src="https://pic2.zhimg.com/80/v2-68f9808932d8923677a9c989c98725f9_1440w.webp" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><blockquote><p>å…¶å®éå¸¸ç®€å•ï¼Œå› ä¸º RepVGG Block ä¸­çš„ 1x1 å·ç§¯æ˜¯ç›¸å½“äºä¸€ä¸ªç‰¹æ®Šï¼ˆå·ç§¯æ ¸ä¸­æœ‰å¾ˆå¤š 0ï¼‰çš„ 3x3 å·ç§¯ï¼Œè€Œæ’ç­‰æ˜ å°„æ˜¯ä¸€ä¸ªç‰¹æ®Šï¼ˆä»¥å•ä½çŸ©é˜µä¸ºå·ç§¯æ ¸ï¼‰çš„ 1x1 å·ç§¯ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ 3x3 å·ç§¯ï¼æˆ‘ä»¬åªéœ€è¦ï¼š1. æŠŠ identity è½¬æ¢ä¸º 1x1 å·ç§¯ï¼Œåªè¦æ„é€ å‡ºä¸€ä¸ªä»¥å•ä½çŸ©é˜µä¸ºå·ç§¯æ ¸çš„ 1x1 å·ç§¯å³å¯ï¼›2. æŠŠ 1x1 å·ç§¯ç­‰ä»·è½¬æ¢ä¸º 3x3 å·ç§¯ï¼Œåªè¦ç”¨ 0 å¡«å……å³å¯ã€‚</p></blockquote><p>å› æ­¤ï¼Œä¸€ä¸ª RepConvN å°±å¯ä»¥é€šè¿‡ç»“æ„é‡å‚æ•°åŒ–ç¼–ç¨‹å•è·¯ç½‘ç»œäº†ã€‚</p><h4 id="auxliary-heads" tabindex="-1"><a class="header-anchor" href="#auxliary-heads" aria-hidden="true">#</a> Auxliary heads</h4><p>å†ä¸­å±‚ç‰¹å¾å’Œæµ…å±‚ç½‘ç»œåŠ  lossï¼Œå¯ä»¥å¼•å¯¼ç½‘ç»œçš„å­¦ä¹ ã€‚å› æ­¤é¢å¤–æ·»åŠ äº† Aux Headsï¼Œå¹¶å†è®­ç»ƒæ—¶ï¼Œé’ˆå¯¹ä»–ä»¬è®¡ç®—é¢å¤–çš„ lossï¼Œå¹¶è¿›è¡Œä¼˜åŒ–ã€‚</p><figure><img src="/assets/img/yolo/image-20221120231132312.png" alt="image-20221120231132312" tabindex="0" loading="lazy"><figcaption>image-20221120231132312</figcaption></figure><h4 id="label-assigner" tabindex="-1"><a class="header-anchor" href="#label-assigner" aria-hidden="true">#</a> Label Assigner</h4><p>å‚è€ƒäº† YOLOX çš„ SimOTA æ€æƒ³ï¼Œæ‰©å……äº†æ­£æ ·æœ¬çš„æ•°é‡ï¼šä» 1 å„ GT çš„ bbox é…ä¸€ä¸ª Anchorï¼Œå˜æˆä¸º 1 å„ Anchor é…å¤šä¸ª Anchorï¼ˆå½“ GT bbox çš„é•¿å®½æ¯”ä¸ anchor é•¿å®½æ¯”å¤§äºæŸä¸€ä¸ªé˜ˆå€¼æ—¶ï¼Œå°±è®© anchor è´Ÿè´£è¿™ä¸ª gt çš„æ£€æµ‹ï¼‰ã€‚è€Œåæ ¹æ® GT æ¡†çš„ä¸­å¿ƒä½ç½®ï¼Œå°†æœ€è¿‘çš„ä¸¤ä¸ª grid ä¹Ÿä½œä¸ºé¢„æµ‹ç½‘ç»œã€‚</p><ul><li><strong>Coarse-to-fine auxiliary loss</strong></li></ul><p>aux head è´Ÿè´£ coarse çš„å›å½’ï¼ˆæå‡ recall æ•ˆæœï¼‰ï¼Œè€Œ lead head è´Ÿè´£ fine çš„å›å½’ã€‚å› æ­¤ Label Assigner ä¼šå°†æ‰©å……çš„æ­£æ ·æœ¬ï¼ˆsoft labelï¼‰æ›´å¤šçš„åˆ†é…åˆ° aux head çš„æ£€æµ‹èŒƒå›´å†…ï¼Œä½†è¯¥æ–¹æ¡ˆæå‡è¾ƒå°ã€‚</p><figure><img src="/assets/img/yolo/image-20221120232038956.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><h2 id="å‚è€ƒè®ºæ–‡" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒè®ºæ–‡" aria-hidden="true">#</a> å‚è€ƒè®ºæ–‡</h2><p>[1] <a href="http://arxiv.org/abs/2101.03697" target="_blank" rel="noopener noreferrer">RepVGG: Making VGG-style ConvNets Great Again<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[2] <a href="http://arxiv.org/abs/2209.02976" target="_blank" rel="noopener noreferrer">YOLOv6: A Single-Stage Object Detection Framework for Industrial Applications<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[3] <a href="https://ieeexplore.ieee.org/document/9607487/" target="_blank" rel="noopener noreferrer">TPH-YOLOv5: Improved YOLOv5 Based on Transformer Prediction Head for Object Detection on Drone-captured Scenarios<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[4] <a href="http://arxiv.org/abs/1612.08242" target="_blank" rel="noopener noreferrer">YOLO9000: Better, Faster, Stronger<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[5] <a href="http://arxiv.org/abs/2207.02696" target="_blank" rel="noopener noreferrer">YOLOv7: Trainable bag-of-freebies sets new state-of-the-art for real-time object detectors<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[6] <a href="http://arxiv.org/abs/1804.02767" target="_blank" rel="noopener noreferrer">YOLOv3: An Incremental Improvement<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[7] <a href="http://arxiv.org/abs/1506.02640" target="_blank" rel="noopener noreferrer">You Only Look Once: Unified, Real-Time Object Detection<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[8] <a href="http://arxiv.org/abs/2004.10934" target="_blank" rel="noopener noreferrer">YOLOv4: Optimal Speed and Accuracy of Object Detection<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[9] <a href="http://ieeexplore.ieee.org/document/7780460/" target="_blank" rel="noopener noreferrer">You Only Look Once: Unified, Real-Time Object Detection<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 417333277@qq.com">kevinng77</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="https://beian.miit.gov.cn/" target="_blank">æ²ªICPå¤‡2023027904å·-1</a>&nbsp;<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=" target="_blank"><img src="/assets/gongan.png">å…¬å®‰å¤‡æ¡ˆå· </a></div><div class="vp-copyright">Copyright Â© 2024 Kevin å´å˜‰æ–‡</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-90f47110.js" defer></script>
  </body>
</html>
