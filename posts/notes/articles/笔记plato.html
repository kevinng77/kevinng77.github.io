<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="http://wujiawen.xyz/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html"><meta property="og:site_name" content="è®°å¿†ç¬”ä¹¦"><meta property="og:title" content="å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®°"><meta property="og:description" content="å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®° æœ€è¿‘åˆå¼€å§‹ç€è¿·å¯¹è¯ç³»ç»Ÿäº†ï¼Œäºæ˜¯èŠ±æ—¶é—´çœ‹äº†ä»¥ä¸‹å‡ ä¸ªä¸­æ–‡æ¯”è¾ƒæœ‰æ„æ€çš„æ¨¡å‹ã€‚æœ¬æ–‡å¯¹ PLATOï¼ŒPLATO=2ï¼Œ PLATO-XLï¼ŒPLATO-KAG å››ç¯‡è®ºæ–‡è¿›è¡Œç¬”è®°æ¢³ç†ä¸æ€»ç»“ã€‚ PLATO è®ºæ–‡ï¼šPLATO: Pre-trained Dialogue Generation Model with Discrete Latent Variable æ¦‚è¿° æ¯”è¾ƒæ—©çš„è®ºæ–‡äº†ï¼Œè®ºæ–‡ä¸€ä¸Šæ¥æå‡ºï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ Bert åœ¨å°è§„æ¨¡çš„å¯¹è¯æ•°æ®é›†ä¸Šå¾®è°ƒå¯¹è¯ä»»åŠ¡ï¼Œå…¶æ•ˆæœæ˜¯å¾ˆå·®çš„ï¼ŒåŸºäºè¿™äº›é—®é¢˜ï¼Œè®ºæ–‡ç»™å‡ºäº†å‡ ç‚¹åŸå› çŒœæµ‹ï¼š"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-26T07:48:04.000Z"><meta property="article:author" content="Kevin å´å˜‰æ–‡"><meta property="article:tag" content="NLP"><meta property="article:published_time" content="2022-10-05T00:00:00.000Z"><meta property="article:modified_time" content="2023-03-26T07:48:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®°","image":[""],"datePublished":"2022-10-05T00:00:00.000Z","dateModified":"2023-03-26T07:48:04.000Z","author":[{"@type":"Person","name":"Kevin å´å˜‰æ–‡"}]}</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet"><link rel="icon" href="/logo.svg"><title>å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®° | è®°å¿†ç¬”ä¹¦</title><meta name="description" content="å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®° æœ€è¿‘åˆå¼€å§‹ç€è¿·å¯¹è¯ç³»ç»Ÿäº†ï¼Œäºæ˜¯èŠ±æ—¶é—´çœ‹äº†ä»¥ä¸‹å‡ ä¸ªä¸­æ–‡æ¯”è¾ƒæœ‰æ„æ€çš„æ¨¡å‹ã€‚æœ¬æ–‡å¯¹ PLATOï¼ŒPLATO=2ï¼Œ PLATO-XLï¼ŒPLATO-KAG å››ç¯‡è®ºæ–‡è¿›è¡Œç¬”è®°æ¢³ç†ä¸æ€»ç»“ã€‚ PLATO è®ºæ–‡ï¼šPLATO: Pre-trained Dialogue Generation Model with Discrete Latent Variable æ¦‚è¿° æ¯”è¾ƒæ—©çš„è®ºæ–‡äº†ï¼Œè®ºæ–‡ä¸€ä¸Šæ¥æå‡ºï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ Bert åœ¨å°è§„æ¨¡çš„å¯¹è¯æ•°æ®é›†ä¸Šå¾®è°ƒå¯¹è¯ä»»åŠ¡ï¼Œå…¶æ•ˆæœæ˜¯å¾ˆå·®çš„ï¼ŒåŸºäºè¿™äº›é—®é¢˜ï¼Œè®ºæ–‡ç»™å‡ºäº†å‡ ç‚¹åŸå› çŒœæµ‹ï¼š">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-f0172e8a.css" as="style"><link rel="stylesheet" href="/assets/style-f0172e8a.css">
    <link rel="modulepreload" href="/assets/app-16d0ff63.js"><link rel="modulepreload" href="/assets/framework-d5c0d2cb.js"><link rel="modulepreload" href="/assets/ç¬”è®°plato.html-e1bf5dcb.js"><link rel="modulepreload" href="/assets/ç¬”è®°plato.html-31e56f01.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><span class="site-name">è®°å¿†ç¬”ä¹¦</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åšæ–‡"><span class="title"><span class="font-icon icon iconfont icon-blog" style=""></span>åšæ–‡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/posts/notes/" class="nav-link active" aria-label="çŸ¥è¯†ç¬”è®°"><span class="font-icon icon iconfont icon-note" style=""></span>çŸ¥è¯†ç¬”è®°<!----></a></li><li class="dropdown-item"><a href="/posts/hometown/" class="nav-link" aria-label="æ³‰å·å¿†å¾€æ˜”"><span class="font-icon icon iconfont icon-like" style=""></span>æ³‰å·å¿†å¾€æ˜”<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/timeline/" class="nav-link" aria-label="å½’æ¡£"><span class="font-icon icon iconfont icon-categoryselected" style=""></span>å½’æ¡£<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/kevinng77" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">æœç´¢</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®°</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Kevin å´å˜‰æ–‡</span></span><span property="author" content="Kevin å´å˜‰æ–‡"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-10-05T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 10 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT10M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category7 clickable" role="navigation">çŸ¥è¯†ç¬”è®°</span><meta property="articleSection" content="çŸ¥è¯†ç¬”è®°"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag8 clickable" role="navigation">NLP</span><meta property="keywords" content="NLP"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#plato" class="router-link-active router-link-exact-active toc-link level2">PLATO</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#é¢„è®­ç»ƒæ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">é¢„è®­ç»ƒæ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#æ¨ç†è¿‡ç¨‹" class="router-link-active router-link-exact-active toc-link level3">æ¨ç†è¿‡ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#æ¨¡å‹ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">æ¨¡å‹ä½¿ç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#plato-2" class="router-link-active router-link-exact-active toc-link level2">PLATO-2</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#é¢„è®­ç»ƒè¿‡ç¨‹" class="router-link-active router-link-exact-active toc-link level3">é¢„è®­ç»ƒè¿‡ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#æ¨ç†" class="router-link-active router-link-exact-active toc-link level3">æ¨ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#ä»»åŠ¡å¼å¯¹è¯" class="router-link-active router-link-exact-active toc-link level3">ä»»åŠ¡å¼å¯¹è¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#å…¶ä»–" class="router-link-active router-link-exact-active toc-link level3">å…¶ä»–</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#plato-xl" class="router-link-active router-link-exact-active toc-link level2">PLATO-XL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#æ¨¡å‹è®­ç»ƒ" class="router-link-active router-link-exact-active toc-link level3">æ¨¡å‹è®­ç»ƒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#plato-kag" class="router-link-active router-link-exact-active toc-link level2">PLATO-KAG</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#æ¨¡å‹è®­ç»ƒ-1" class="router-link-active router-link-exact-active toc-link level3">æ¨¡å‹è®­ç»ƒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/notes/articles/%E7%AC%94%E8%AE%B0plato.html#å‚è€ƒ" class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒ</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="å¯¹è¯æ¨¡å‹-plato-ç³»åˆ—è®ºæ–‡ç¬”è®°" tabindex="-1"><a class="header-anchor" href="#å¯¹è¯æ¨¡å‹-plato-ç³»åˆ—è®ºæ–‡ç¬”è®°" aria-hidden="true">#</a> å¯¹è¯æ¨¡å‹ PLATO ç³»åˆ—è®ºæ–‡ç¬”è®°</h1><p>æœ€è¿‘åˆå¼€å§‹ç€è¿·å¯¹è¯ç³»ç»Ÿäº†ï¼Œäºæ˜¯èŠ±æ—¶é—´çœ‹äº†ä»¥ä¸‹å‡ ä¸ªä¸­æ–‡æ¯”è¾ƒæœ‰æ„æ€çš„æ¨¡å‹ã€‚æœ¬æ–‡å¯¹ PLATOï¼ŒPLATO=2ï¼Œ PLATO-XLï¼ŒPLATO-KAG å››ç¯‡è®ºæ–‡è¿›è¡Œç¬”è®°æ¢³ç†ä¸æ€»ç»“ã€‚</p><h2 id="plato" tabindex="-1"><a class="header-anchor" href="#plato" aria-hidden="true">#</a> PLATO</h2><p>è®ºæ–‡ï¼šPLATO: Pre-trained Dialogue Generation Model with Discrete Latent Variable</p><h3 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°" aria-hidden="true">#</a> æ¦‚è¿°</h3><p>æ¯”è¾ƒæ—©çš„è®ºæ–‡äº†ï¼Œè®ºæ–‡ä¸€ä¸Šæ¥æå‡ºï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ Bert åœ¨å°è§„æ¨¡çš„å¯¹è¯æ•°æ®é›†ä¸Šå¾®è°ƒå¯¹è¯ä»»åŠ¡ï¼Œå…¶æ•ˆæœæ˜¯å¾ˆå·®çš„ï¼ŒåŸºäºè¿™äº›é—®é¢˜ï¼Œè®ºæ–‡ç»™å‡ºäº†å‡ ç‚¹åŸå› çŒœæµ‹ï¼š</p><ul><li>ç°å®å¯¹è¯çš„åˆ†å¸ƒä¸è®­ç»ƒæ–‡æœ¬åˆ†å¸ƒçš„å·®å¼‚æ˜¯éå¸¸å¤§çš„ã€‚</li><li>one-to-many relationshipï¼šå¯¹äºä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ä¸åŒåœºæ™¯ä¸‹ï¼Œå¯èƒ½å¯ä»¥æœ‰å¤šç§ä¸åŒçš„ã€æ­£ç¡®çš„å›ç­”ã€‚è€Œå¸¸è§„çš„è®­ç»ƒè¿‡ç¨‹æ˜¯ä¸€ä¸ª one-to-one å¯¹è¯æ¨¡å¼çš„è®­ç»ƒã€‚</li><li>Bert æ¨¡å‹æœ¬èº«å¯¹ç”Ÿæˆä»»åŠ¡æœ‰å±€é™æ€§ã€‚</li></ul><p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œè®ºæ–‡æå‡ºäº†ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>åœ¨ Reddit å’Œ Twitter æ•°æ®ä¸Šè¿›è¡Œè¿›ä¸€æ­¥é¢„è®­ç»ƒã€‚</li><li>å¯¹è¯è¿‡ç¨‹ä¸­ï¼Œå¯¹äºåŒä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ä¸åŒåœºæ™¯ä¸‹å¯ä»¥æœ‰ä¸åŒçš„å›ç­”ã€‚å› æ­¤ PLATO ç”¨ä¸€ä¸ªéšå˜é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>K</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">z\in[1,K]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mclose">]</span></span></span></span>ï¼Œæ¥å»ºæ¨¡ one-to-many å¯¹è¯ä¸­çš„ä¿¡æ¯ã€‚éšå˜é‡çš„æ¯ä¸ªå€¼ï¼Œéƒ½ä¼šå¯¹åº”ä¸€ç§ç‰¹å®šçš„å¯¹è¯æ„å›¾ã€‚</li><li>è®­ç»ƒæ—¶ç”¨äº† UniLM çš„æ–¹æ¡ˆï¼Œæ¨¡å‹é‡‡ç”¨ä¸ BERT ç›¸ä¼¼çš„ Transformer Encoder æ¨¡å‹ï¼Œè®­ç»ƒæ—¶ç”¨ä¸åŒæ©ç æ¥å®ç°ä¸åŒçš„ä¼˜åŒ–ç›®æ ‡ã€‚</li></ul><h3 id="é¢„è®­ç»ƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é¢„è®­ç»ƒæ–¹æ³•" aria-hidden="true">#</a> é¢„è®­ç»ƒæ–¹æ³•</h3><p>é¢„è®­ç»ƒæ–¹æ³•å¦‚ä¸‹ï¼Œé‡‡ç”¨ bert-case ä½œä¸ºåˆå§‹æƒé‡ã€‚</p><figure><img src="/assets/img/plato/image-20220925175603731.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>å¦‚ä¸Šå›¾ï¼Œæ¯ä¸€æ­¥è®­ç»ƒéƒ½è¦è¿›è¡Œä¸¤æ¬¡å‰å‘ä¼ æ’­ã€‚ç¬¬ä¸€æ­¥è´Ÿè´£è¿›è¡Œ response generation ä»»åŠ¡ã€‚</p><h4 id="response-generation" tabindex="-1"><a class="header-anchor" href="#response-generation" aria-hidden="true">#</a> response generation</h4><p><strong>è¾“å…¥ï¼š</strong> éšå˜é‡ latentï¼Œå†å²å¯¹è¯å†…å®¹ Contextï¼Œå›å¤ Response ä¸‰è€…çš„æ‹¼æ¥ï¼Œå¦‚ä¸‹å›¾ã€‚</p><figure><img src="/assets/img/plato/image-20220925180010559.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>å…¶ä¸­ Role Embeddings ç”¨äºæ ‡è®°è¯´è¯çš„è§’è‰²ã€‚(å¯¹äºåŒ…å«äº†å¤–éƒ¨çŸ¥è¯†èƒŒæ™¯çš„å¯¹è¯å†…å®¹ï¼Œå¦‚ Duconv ä»»åŠ¡ï¼Œé¢å¤–çŸ¥è¯†å¯¹åº”ä½ç½®çš„ Role Embedding ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">E_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)ã€‚Turn Embedding ç”¨äºæ ‡è®°å½“å‰å¯¹è¯è½®æ•°ã€‚</p><p><strong>éšå˜é‡çš„è®¡ç®—</strong></p><p>å¤§è‡´çš„éšå˜é‡è®¡ç®—è¿‡ç¨‹ä¸ºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>X <span class="token operator">=</span> nn<span class="token punctuation">.</span>embedding<span class="token punctuation">(</span><span class="token punctuation">[</span>context<span class="token punctuation">,</span>response<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># é€šè¿‡ `context, response` æ‹¼æ¥åçš„ `embedding`</span>
X <span class="token operator">=</span> gumbel_softmax<span class="token punctuation">(</span>dense<span class="token punctuation">(</span>X<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å½¢çŠ¶ `[batch_size, num_latent]` </span>
latent_embedding <span class="token operator">=</span> X<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>embedding_params<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ï¼Œåœ¨æ¨ç†é˜¶æ®µï¼Œæˆ‘ä»¬é‡‡ç”¨ <code>argmax</code> æ¥å–ä»£ <code>gumbel_softmax</code>ã€‚è¯¦ç»†çš„éšå˜é‡è®¡ç®— <a href="https://github.com/sserdoubleh/Research/blob/b8ec015fa9e16c0a879c619ee1f2aab8a393c7bd/NLP/Dialogue-PLATO/plato/models/unified_transformer.py#L420" target="_blank" rel="noopener noreferrer">å‚è€ƒä»£ç <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p><strong>ä¼˜åŒ–ç›®æ ‡ï¼š</strong></p><p>é‡‡ç”¨ UniLM çš„è®­ç»ƒæ–¹å¼ï¼Œå¯¹ Response ä½ç½®å¯¹åº”çš„è¾“å‡º hidden state è®¡ç®—ç»å…¸çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>N</mi><mi>L</mi><mi>L</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{NLL}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">LL</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><p>åŒæ—¶å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>B</mi><mi>O</mi><mi>W</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{BOW}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">BO</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è¿›è¡Œä¼˜åŒ–ã€‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>B</mi><mi>O</mi><mi>W</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{BOW}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">BO</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸»è¦æ€æƒ³æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›éšå˜é‡ä½ç½®å¯¹åº”çš„ hidden state <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">H_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œèƒ½å¤Ÿé¢„æµ‹ç­”æ¡ˆä¸­åŒ…å«äº†å“ªäº› <code>token</code>ã€‚å¤§è‡´ä»£ç æ€è·¯å¦‚ä¸‹ï¼Œæ¯”è¾ƒç‰¹åˆ«çš„æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">H_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> é€šè¿‡ä¸€æ¬¡çº¿æ€§å˜æ¢åï¼Œåœ¨è®¡ç®—äº¤å‰ç†µä¹‹å‰è¢«æ‹“å±•åˆ°äº† <code>[batch_size, len_pred, num_tokens]</code> ç»´åº¦ï¼Œå› ä¸ºæœ€åäº¤å‰ç†µçš„è¾“å…¥æ˜¯é€šè¿‡ <code>expand</code> å¾—æ¥çš„ï¼Œå› æ­¤è®¡ç®—å‡ºçš„ loss ä¸ç­”æ¡ˆçš„é¡ºåºæ²¡æœ‰å…³ç³»ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>label <span class="token operator">=</span> inputs<span class="token punctuation">[</span><span class="token string">&quot;tgt_token&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>  <span class="token comment"># [batch size, len_pred]</span>

self<span class="token punctuation">.</span>bow_predictor <span class="token operator">=</span> FC<span class="token punctuation">(</span>name_scope<span class="token operator">=</span>self<span class="token punctuation">.</span>full_name<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.bow_predictor&quot;</span><span class="token punctuation">,</span>
                                    size<span class="token operator">=</span>self<span class="token punctuation">.</span>num_token_embeddings<span class="token punctuation">,</span>  
                        <span class="token comment"># &quot;The number of tokens in vocabulary. &quot;</span>
                                    bias_attr<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>

bow_logits <span class="token operator">=</span> self<span class="token punctuation">.</span>bow_predictor<span class="token punctuation">(</span>latent_embed<span class="token punctuation">)</span>  <span class="token comment"># [batch size, 1, num_tokens]</span>
outputs<span class="token punctuation">[</span><span class="token string">&quot;bow_probs&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> layers<span class="token punctuation">.</span>softmax<span class="token punctuation">(</span>bow_logits<span class="token punctuation">)</span>  <span class="token comment"># [batch size, 1, num_tokens]</span>

bow_probs <span class="token operator">=</span> F<span class="token punctuation">.</span>unsqueeze<span class="token punctuation">(</span>outputs<span class="token punctuation">[</span><span class="token string">&quot;bow_probs&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># [batch size, len_pred, num_tokens]</span>
bow_probs <span class="token operator">=</span> layers<span class="token punctuation">.</span>expand<span class="token punctuation">(</span>bow_probs<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> label<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token keyword">if</span> self<span class="token punctuation">.</span>label_smooth <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    bow <span class="token operator">=</span> layers<span class="token punctuation">.</span>cross_entropy<span class="token punctuation">(</span>bow_probs<span class="token punctuation">,</span> smooth_label<span class="token punctuation">,</span> soft_label<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
                               ignore_index<span class="token operator">=</span>self<span class="token punctuation">.</span>padding_idx<span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    bow <span class="token operator">=</span> layers<span class="token punctuation">.</span>cross_entropy<span class="token punctuation">(</span>bow_probs<span class="token punctuation">,</span> label<span class="token punctuation">,</span> ignore_index<span class="token operator">=</span>self<span class="token punctuation">.</span>padding_idx<span class="token punctuation">)</span>
            bow <span class="token operator">=</span> layers<span class="token punctuation">.</span>reduce_sum<span class="token punctuation">(</span>bow<span class="token punctuation">,</span> dim<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
            token_bow <span class="token operator">=</span> layers<span class="token punctuation">.</span>reduce_sum<span class="token punctuation">(</span>bow<span class="token punctuation">)</span> <span class="token operator">/</span> tgt_len
            bow <span class="token operator">=</span> layers<span class="token punctuation">.</span>reduce_mean<span class="token punctuation">(</span>bow<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¦ç»†ä»£ç å¯ä»¥å‚è€ƒ <a href="https://github.com/sserdoubleh/Research/blob/b8ec015fa9e16c0a879c619ee1f2aab8a393c7bd/NLP/Dialogue-PLATO/plato/models/unified_transformer.py#L482" target="_blank" rel="noopener noreferrer">PLATO æºç <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="response-selection" tabindex="-1"><a class="header-anchor" href="#response-selection" aria-hidden="true">#</a> <strong>Response Selection</strong></h4><p>äºŒåˆ†ç±»ä»»åŠ¡ï¼Œé€šè¿‡è¾“å…¥éšå˜é‡ä½ç½®å¯¹åº”çš„ logits,è®¡ç®—äº¤å‰ç†µï¼Œæ–‡ä¸­å¯¹è¿™ä¸ªä¼˜åŒ–ç›®æ ‡è®°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>R</mi><mi>S</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{RS}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">RS</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å¯¹äºä¸€ä¸ªé—®ç­”å¯¹ï¼Œå…¶æ­£ä¾‹å°±æ˜¯æœ¬èº«ï¼Œè€Œè´Ÿä¾‹ä¾§æ˜¯åœ¨æ— å…³çš„è¯­æ–™åº“ä¸­ï¼Œéšæœºçš„ä¸€ä¸ªç­”æ¡ˆã€‚åœ¨ <a href="https://github.com/sserdoubleh/Research/blob/b8ec015fa9e16c0a879c619ee1f2aab8a393c7bd/NLP/Dialogue-PLATO/plato/models/unified_transformer.py#L338" target="_blank" rel="noopener noreferrer">plato<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æºç ä¸­å¯ä»¥å‘ç°ï¼Œè´Ÿä¾‹æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åˆ›å»ºçš„ï¼Œå³ç®€å•çš„é‡‡ç”¨åŒä¸€ä¸ª batch ä¸‹é™¤è‡ªèº«ä»¥å¤–çš„å…¶ä»–æ ·æœ¬ä½œä¸ºè´Ÿä¾‹ã€‚</p><p>è€Œåé€šè¿‡éšå˜é‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span> å¯¹åº”ä½ç½®çš„ hidden stateï¼ˆæ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬å„è‡ªæœ‰ä¸€ä¸ª hidden stateï¼‰è®¡ç®—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>R</mi><mi>S</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{RS}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">RS</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æŸå¤±ä¸ºï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>R</mi><mi>S</mi></mrow></msub><mo>=</mo><mo>âˆ’</mo><mi>log</mi><mo>â¡</mo><mi>p</mi><mrow><mo fence="true">(</mo><msub><mi>l</mi><mi>r</mi></msub><mo>=</mo><mn>1</mn><mo>âˆ£</mo><mi>c</mi><mo separator="true">,</mo><mi>r</mi><mo fence="true">)</mo></mrow><mo>âˆ’</mo><mi>log</mi><mo>â¡</mo><mi>p</mi><mrow><mo fence="true">(</mo><msub><mi>l</mi><msup><mi>r</mi><mo lspace="0em" rspace="0em">âˆ’</mo></msup></msub><mo>=</mo><mn>0</mn><mo>âˆ£</mo><mi>c</mi><mo separator="true">,</mo><msup><mi>r</mi><mo lspace="0em" rspace="0em">âˆ’</mo></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex"> \mathcal{L}_{R S}=-\log p\left(l_r=1 \mid c, r\right)-\log p\left(l_{r^{-}}=0 \mid c, r^{-}\right) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">RS</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3419em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7027em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span></span></p><p><strong>æ€»ä½“ä¼˜åŒ–ç›®æ ‡</strong></p><p>æ€»ä½“çš„ä¼˜åŒ–ç›®æ ‡ä¸ºä»¥ä¸Šä»‹ç»çš„ä¸‰ä¸ªæŸå¤±çš„åŠ æƒå¹³å‡ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>N</mi><mi>L</mi><mi>L</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>B</mi><mi>O</mi><mi>W</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>R</mi><mi>S</mi></mrow></msub></mrow><annotation encoding="application/x-tex"> L = L_{NLL} + L_{BOW} + L_{RS} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">LL</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">BO</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">RS</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>è®ºæ–‡ä¸­æ²¡æœ‰æä¸‰ä¸ªæŸå¤±çš„æƒé‡ï¼Œæºç ä¸­æœ‰ç”¨äºè°ƒæ•´å„ä¸ª loss çš„è¶…å‚ï¼Œä¸è¿‡è¿™äº›è¶…å‚é»˜è®¤å€¼éƒ½æ˜¯ 1ã€‚æ•´ä¸ªé¢„è®­ç»ƒç”¨äº† 8 å¼  V100(32G) è®­ç»ƒäº† 2 å‘¨ ã€‚å…·ä½“å‚æ•°å¯ä»¥å‚è€ƒåŸè®ºæ–‡ã€‚</p><h3 id="æ¨ç†è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ¨ç†è¿‡ç¨‹" aria-hidden="true">#</a> æ¨ç†è¿‡ç¨‹</h3><p>å¯¹äºä¸€ä¸ªå†å²å¯¹è¯ <code>context</code>ï¼š</p><ul><li>é¦–å…ˆç»™ <code>context</code> æ·»åŠ ä¸Šä¸åŒç±»å‹çš„ <code>latent_embed</code>ã€‚åŸæœ¬è¾“å…¥ä¸º <code>batch size</code> æ¡ï¼Œå˜æ¢åï¼Œå˜æˆäº† <code>batch size * num_latent</code> æ¡ã€‚</li><li>å¯¹ <code>batch_size * num_latent</code> æ¡è¾“å…¥åˆ†åˆ«è¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°æ‰€æœ‰ latent å¯¹åº”çš„å›å¤ ã€‚</li><li>é€šè¿‡ Response selection é˜¶æ®µè®­ç»ƒçš„åˆ¤åˆ«å™¨ï¼Œå¯¹æ‰€æœ‰ç”Ÿæˆè¿›è¡Œæ‰“åˆ†ï¼Œé€‰å–åˆ†æ•°é«˜çš„ä½œä¸ºæœ€ç»ˆå›å¤ã€‚</li></ul><h3 id="æ¨¡å‹ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹ä½¿ç”¨" aria-hidden="true">#</a> æ¨¡å‹ä½¿ç”¨</h3><p>PLATO é‡‡ç”¨ <code>UnifiedTransformerModel</code>ã€‚å¯¹åº”çš„ä½¿ç”¨æ–¹æ³•åœ¨ PaddleNLP ä¸­å¯æŸ¥çœ‹åˆ°ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> paddlenlp<span class="token punctuation">.</span>transformers <span class="token keyword">import</span> UnifiedTransformerModel
<span class="token keyword">from</span> paddlenlp<span class="token punctuation">.</span>transformers <span class="token keyword">import</span> UnifiedTransformerTokenizer

model <span class="token operator">=</span> UnifiedTransformerModel<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span><span class="token string">&#39;plato-mini&#39;</span><span class="token punctuation">)</span>
tokenizer <span class="token operator">=</span> UnifiedTransformerTokenizer<span class="token punctuation">.</span>from_pretrained<span class="token punctuation">(</span><span class="token string">&#39;plato-mini&#39;</span><span class="token punctuation">)</span>

history <span class="token operator">=</span> <span class="token string">&#39;æˆ‘çˆ±ç¥–å›½&#39;</span>
inputs <span class="token operator">=</span> tokenizer<span class="token punctuation">.</span>dialogue_encode<span class="token punctuation">(</span>
    history<span class="token punctuation">,</span>
    return_tensors<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    is_split_into_words<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
outputs <span class="token operator">=</span> model<span class="token punctuation">(</span><span class="token operator">**</span>inputs<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="plato-2" tabindex="-1"><a class="header-anchor" href="#plato-2" aria-hidden="true">#</a> PLATO-2</h2><p>æ¥è‡ªè®ºæ–‡ PLATO-2: Towards Building an OpeDomain Chatbot via Curriculum Learning</p><p>PLATO-2 ä¸º PLATO å‡çº§ç‰ˆï¼Œé™¤äº†æ¨¡å‹è§„æ¨¡ä¸åŒå¤–ï¼Œå…¶ä¸ PLATO çš„ä¸»è¦å·®åˆ«åœ¨äºé¢„è®­ç»ƒçš„æ–¹å¼ã€‚æ­¤å¤– PLATO-2 ç”¨çš„æ˜¯ä¾æ—§æ˜¯ Transformer encoder æ¶æ„ï¼Œä½†æ˜¯é‡‡ç”¨äº† <code>pre-normalization</code>ã€‚</p><p>PLATO-2 æ•ˆæœå¦‚ä¸‹ï¼š</p><figure><img src="/assets/img/plato/image-20221002115449356.png" alt="ç›¸å…³å›¾ç‰‡" height="300" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><h3 id="é¢„è®­ç»ƒè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#é¢„è®­ç»ƒè¿‡ç¨‹" aria-hidden="true">#</a> é¢„è®­ç»ƒè¿‡ç¨‹</h3><p>æ–‡ä¸­æå‡ºäº† curriculum learning çš„é¢„è®­ç»ƒæ–¹æ¡ˆã€‚</p><h4 id="step-1" tabindex="-1"><a class="header-anchor" href="#step-1" aria-hidden="true">#</a> Step 1</h4><figure><img src="/assets/img/plato/image-20220928103258849.png" alt="ç›¸å…³å›¾ç‰‡" height="300" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>ä¸é‡‡ç”¨ latent embeddingï¼Œ ç›´æ¥åˆ©ç”¨ UniLM çš„æ–¹å¼ï¼Œåœ¨æ­£å¸¸çš„ç”Ÿæˆä»»åŠ¡ä¸Šä¼˜åŒ–ä¼ ç»Ÿçš„ NLL lossã€‚</p><h4 id="step-2-1" tabindex="-1"><a class="header-anchor" href="#step-2-1" aria-hidden="true">#</a> Step 2.1</h4><figure><img src="/assets/img/plato/image-20220928103320587.png" alt="ç›¸å…³å›¾ç‰‡" height="300" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>é¦–å…ˆè®¡ç®— <code>latent_embed</code>ï¼Œè¯¥æ“ä½œäº PLATO ä¸åŒã€‚PLATO ä¸­è®¡ç®— <code>latent_embed</code> çš„æ–¹å¼å¤§è‡´ä¸ºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>x <span class="token operator">=</span> nn<span class="token punctuation">.</span>embedding<span class="token punctuation">(</span><span class="token punctuation">[</span>context<span class="token punctuation">,</span> response<span class="token punctuation">]</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> gumbel_softmax<span class="token punctuation">(</span>dense<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
latent_embed <span class="token operator">=</span> x<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>latent_embed_params<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œ PLATO-2 åˆ™é‡‡ç”¨äº†</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>x <span class="token operator">=</span> model<span class="token punctuation">(</span><span class="token punctuation">[</span>context<span class="token punctuation">,</span> response<span class="token punctuation">]</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> gumbel_softmax<span class="token punctuation">(</span>dense<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
latent_embed <span class="token operator">=</span> x<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>latent_embed_params<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å·®åˆ«å°±åœ¨äºè®¡ç®— <code>x</code> è¿‡ç¨‹ä¸­ï¼ŒPLATO-2 ç”¨çš„æ˜¯æ•´ä¸ª encoder è¿›è¡Œç¼–ç ï¼Œè¿™ä¹Ÿä¼šæ›´è€—æ—¶ã€‚</p><p>å¾—åˆ° <code>latent_embed</code> ä¹‹åï¼Œæˆ‘ä»¬å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>N</mi><mi>L</mi><mi>L</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>B</mi><mi>O</mi><mi>W</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{NLL} + L_{BOW}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">LL</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">BO</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è¿›è¡Œä¼˜åŒ–ï¼Œ <strong>ä¼˜åŒ–æ–¹æ³•ä¸ PLATO ç›¸åŒã€‚</strong> <a href="https://github.com/PaddlePaddle/Knover/blob/ab547f0ba03c9142183d97c2ee6ed7a1c3750125/knover/models/plato.py#L151" target="_blank" rel="noopener noreferrer">å‚è€ƒä»£ç <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="step-2-2" tabindex="-1"><a class="header-anchor" href="#step-2-2" aria-hidden="true">#</a> Step 2.2</h4><figure><img src="/assets/img/plato/image-20220928103339039.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>é¢å¤–è®­ç»ƒä¸€ä¸ªæ‰“åˆ†å™¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œä¼˜åŒ–çš„ç›®æ ‡å’Œ BERT é¢„è®­ç»ƒæ—¶ç›¸åŒï¼Œä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>M</mi><mi>L</mi><mi>M</mi></mrow></msub><mo>+</mo><msub><mi>L</mi><mrow><mi>N</mi><mi>S</mi><mi>P</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{MLM} + L_{NSP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">NSP</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ã€‚å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>N</mi><mi>S</mi><mi>P</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{NSP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">NSP</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸å›¾ä¸­çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>R</mi><mi>C</mi><mi>E</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{RCE}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">RCE</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å¤§åŒå°å¼‚ï¼ŒåŸç†éƒ½æ˜¯é¢„æµ‹ <code>Response</code> æ˜¯å¦ä¸º <code>Context</code> çš„ä¸‹ä¸€å¥è¯ã€‚</p><p>è¯¥æ­¥éª¤ä¸ PLATO ä¸­çš„ Response Selection å¯¹åº”ï¼Œåªæ˜¯åœ¨ PLATO-2 ä¸­ï¼Œä¼˜åŒ–ç›®æ ‡å¤šäº†ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>M</mi><mi>L</mi><mi>M</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{MLM}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><h3 id="æ¨ç†" tabindex="-1"><a class="header-anchor" href="#æ¨ç†" aria-hidden="true">#</a> æ¨ç†</h3><p>æ¨ç†è¿‡ç¨‹åŒ PLATOï¼Œå…ˆç”Ÿæˆæ‰€æœ‰ latent å¯¹åº”çš„å›å¤ï¼Œç„¶ååœ¨ç”¨ step 2.2 è®­ç»ƒæ¥çš„æ‰“åˆ†å™¨æ‰“åˆ†ã€‚</p><h3 id="ä»»åŠ¡å¼å¯¹è¯" tabindex="-1"><a class="header-anchor" href="#ä»»åŠ¡å¼å¯¹è¯" aria-hidden="true">#</a> ä»»åŠ¡å¼å¯¹è¯</h3><p>PLATO-2 åœ¨ DSTC9 çš„éƒ¨åˆ†ä»»åŠ¡ä¸Šè¡¨ç°å‡ºè‰²ï¼Œç™¾åº¦ä¹Ÿå¯¹ PLATO-2 åœ¨è¯¥ä»»åŠ¡ä¸Šçš„æ“ä½œæä¾›äº†è®ºæ–‡ã€‚ç›¸å…³è®ºæ–‡ï¼šLearning to Select External Knowledge with Multi-Scale Negative Sampling. <a href="https://arxiv.org/abs/2102.02096" target="_blank" rel="noopener noreferrer">Paper link<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ç½‘å‹çš„ç¬”è®°<a href="https://zhuanlan.zhihu.com/p/423748187" target="_blank" rel="noopener noreferrer">å‚è€ƒé“¾æ¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="å…¶ä»–" tabindex="-1"><a class="header-anchor" href="#å…¶ä»–" aria-hidden="true">#</a> å…¶ä»–</h3><p>æœ‰ç½‘å‹æåˆ°ç¬¬ä¸€é˜¶æ®µçš„é¢„è®­ç»ƒèŠ±äº† 1.8M ä¸ª STEPï¼ŒLOSS ä»…ä¸‹é™åˆ° 2.66ã€‚ä½œè€…å»ºè®® 24L æ¨¡å‹çš„å­¦ä¹ ç‡å¯ä»¥ç”¨ 5e-4 æˆ–è€…æ›´å¤§ï¼ŒKnover ä¸­ 24L PLATO é»˜è®¤çš„å­¦ä¹ ç‡æ˜¯ <code>1e-3</code>ã€‚</p><p>è®ºæ–‡ STEP 2 é‡‡ç”¨äº†å¤šç§å­¦ä¹ æ–¹æ¡ˆï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ¶ˆèå®éªŒã€‚æ­¤å¤–ä½œè€…å¹¶æ²¡æœ‰å…¬å¸ƒä¸­æ–‡æ•°æ®é›†çš„å…·ä½“æ¥æºã€‚éšçº¦æ„Ÿè§‰ï¼ŒPLATO-2 çš„å¥½æ•ˆæœç»å¤§éƒ¨åˆ†æ¥æºäºè¯­æ–™ï¼Ÿ</p><p>PLATO-2 çš„ ISSUE ä¸­æåˆ°ï¼Œè®ºæ–‡ä¸­ table 6 çš„ batch size æ˜¯æ ¹æ® token æ•°é‡æ¥è®¡ç®—çš„ã€‚æºç ä¸­ç»™åˆ°çš„ batch size æ˜¯ 8169ï¼Œé€šè¿‡è¯­æ–™çš„å¹³å‡ token é•¿åº¦æ¢ç®—è¿‡æ¥çš„è¯ï¼Œæºç ä¸­çš„ batch size ä¼šç¨å¾®å¤§ä¸€äº›ã€‚</p><p>PLATO-2 çš„é¢„è®­ç»ƒæƒé‡ç›®å‰åªå¼€æºäº†è‹±æ–‡ç‰ˆçš„ï¼Œæƒ³è¦ä¸­æ–‡ç‰ˆçš„è¯åªèƒ½è‡ªå·±æ”¶é›†ä¸­æ–‡æ•°æ®é›†è®­ç»ƒäº†ã€‚</p><h2 id="plato-xl" tabindex="-1"><a class="header-anchor" href="#plato-xl" aria-hidden="true">#</a> PLATO-XL</h2><p>æ¥è‡ªè®ºæ–‡ PLATO-XL: Exploring the Large-scale Pre-training of Dialogue Generation</p><p>PLATO-XL ä»ç„¶é‡‡ç”¨äº PLATO-2 ç›¸åŒçš„æ¶æ„ï¼Œåªæ˜¯è§„æ¨¡å˜å¤§äº†ï¼Œè®­ç»ƒæ–¹æ³•å’Œé¢„æ–™ä¹Ÿæœ‰æ‰€ä¸åŒã€‚ PLATO-XL çš„è®­ç»ƒä»£ç ä¼¼ä¹å¹¶æ²¡æœ‰å¼€æºï¼Œä»…è‹±æ–‡é¢„è®­ç»ƒæƒé‡æœ‰å¼€æºã€‚è®ºæ–‡ä¸­å¤§è‡´ä»‹ç»äº†å¤§æ¨¡å‹æ•ˆæœæ›´å¥½ï¼Œä»¥åŠä¸€äº›å¤§æ¨¡å‹è®­ç»ƒåŠæ¨ç†çš„è§£å†³æ–¹æ¡ˆã€‚ç›¸æ¯”äº PLATO-2ï¼ŒPLATO-XL ä¼¼ä¹æƒ³è¯´æ˜ï¼šèŠ±é‡Œèƒ¡å“¨çš„è®­ç»ƒï¼Œä¸å¦‚å¤§æ¨¡å‹ï¼Œå¥½è¯­æ–™æ¥çš„ç®¡ç”¨ã€‚</p><h3 id="æ¨¡å‹è®­ç»ƒ" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹è®­ç»ƒ" aria-hidden="true">#</a> æ¨¡å‹è®­ç»ƒ</h3><p>æ¨¡å‹çš„ä¼˜åŒ–ç›®æ ‡åªå‰©ä¸‹ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>N</mi><mi>L</mi><mi>L</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{NLL}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">LL</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> äº†ã€‚</p><p>ç›¸æ¯”äº PLATO-2ï¼ŒPLATO-XL çš„è®­ç»ƒé¢„æ–™ä¸­ï¼Œè€ƒè™‘åˆ°äº†å¤šäººå¯¹è¯çš„åœºæ™¯ã€‚å› æ­¤æ–‡ç« æå‡ºäº† Multi-Party Aware Pre-trainingï¼Œå³åœ¨ <code>role_embedding</code> ä¸­åŒºåˆ† 2 ä¸ªä»¥ä¸Šçš„è§’è‰²ï¼ˆåœ¨ PLATO-2 ä¸­ï¼Œåªæœ‰æœºå™¨å’Œç”¨æˆ·ä¸¤ä¸ªè§’è‰²ï¼Œå› æ­¤åªç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">E_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">E_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è¿›è¡ŒåŒºåˆ†ï¼‰ã€‚</p><p>ç”±äºæ¨¡å‹è§„æ¨¡å¤§ï¼Œå› æ­¤ <code>pre-normalization</code> å’Œ <code>scaled_initialization</code> éƒ½è¢«é‡‡ç”¨äº†ï¼Œä»¥æ­¤æé«˜è®­ç»ƒæ•ˆæœã€‚æ•´ä¸ªè®­ç»ƒç”¨äº† 256 å¼  V100 32Gï¼Œè®­ç»ƒå‘¨æœŸæœªçŸ¥ã€‚æ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><figure><img src="/assets/img/plato/image-20220928214127388.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>ç”±äº PLATO-XL æ¨¡å‹è¾ƒå¤§ï¼Œpaddle å®˜æ–¹é‡‡ç”¨äº† PaddleNLP FasterGeneration è¿›è¡Œé«˜æ€§èƒ½é¢„æµ‹ã€‚<a href="https://github.com/PaddlePaddle/PaddleNLP/blob/develop/model_zoo/plato-xl/infer.py" target="_blank" rel="noopener noreferrer">å‚è€ƒä»£ç <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="plato-kag" tabindex="-1"><a class="header-anchor" href="#plato-kag" aria-hidden="true">#</a> PLATO-KAG</h2><p>æ¥è‡ªè®ºæ–‡ PLATO-KAG: Unsupervised Knowledge-Grounded Conversation via Joint Modelingã€‚</p><p>ç›¸æ¯”äºä¹‹å‰ PLATO ç³»åˆ—è®ºæ–‡ï¼Œè¯¥æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ PLATO æ¶æ„æ¥è¿›è¡Œå…·å¤‡é¢å¤–çŸ¥è¯†ä¿¡æ¯çš„é—®ç­”ã€‚<a href="https://github.com/PaddlePaddle/Knover/blob/develop/knover/models/plato_kag.py" target="_blank" rel="noopener noreferrer">ä»£ç é“¾æ¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="æ¨¡å‹è®­ç»ƒ-1" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹è®­ç»ƒ-1" aria-hidden="true">#</a> æ¨¡å‹è®­ç»ƒ</h3><p>æ¨¡å‹è®­ç»ƒæµç¨‹å¦‚ä¸‹ï¼Œæ•´ä¸ªæ¨¡å‹é‡‡ç”¨ PLATO-2 çš„æƒé‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p><figure><img src="/assets/img/plato/image-20220929105506250.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p><strong>Knowledge Selection</strong></p><p>ç”¨åŒä¸€ä¸ªç¼–ç å™¨ç¼–ç  <code>Context</code> ä»¥åŠ <code>Knowledge</code> ç‰‡æ®µï¼Œå¾—åˆ°éšçŠ¶æ€ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>ã€‚è€Œåé€šè¿‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>c</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msub><mi>W</mi><mi>c</mi></msub><mi>E</mi><mo stretchy="false">(</mo><mi>c</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mo stretchy="false">(</mo><msub><mi>W</mi><mi>z</mi></msub><mi>E</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(c,z) = (W_cE(c))^T(W_zE(z))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">))</span></span></span></span> è®¡ç®— <code>context</code> å’Œ <code>knowledge</code> ç‰‡æ®µçš„ç›¸ä¼¼åº¦ã€‚</p><p>åœ¨è®¡ç®—æŸå¤±æ—¶ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>c</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(c,z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span> è®¡ç®— <code>softmax</code>ï¼Œè€Œååªå¯¹ Top K ä¸ª <code>knowledge</code> å¯¹åº”çš„ <code>softmax</code> è¿›è¡Œä¼˜åŒ–ã€‚</p><p>è®ºæ–‡ä¸­å¯¹ ä¸åŒçš„ K å€¼è¿›è¡Œäº†æµ‹è¯•ï¼Œç»“æœå±•ç¤ºäº†ï¼Œåœ¨è®­ç»ƒæ—¶é€‰æ‹© Top 8 ä¸ªç›¸å…³çŸ¥è¯†ç‰‡æ®µè¿›è¡Œè®­ç»ƒï¼Œæ¨¡å‹æœ€ç»ˆçš„ PPL å’Œ Recall éƒ½ä¼šæ›´å¥½ã€‚</p><figure><img src="/assets/img/plato/image-20221005143858830.png" alt="ç›¸å…³å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>ç›¸å…³å›¾ç‰‡</figcaption></figure><p>ä½†æ˜¯ K è¶Šå¤§ï¼Œå¯¹åº”çš„è®­ç»ƒèµ„æºè¦æ±‚å°±è¶Šå¤§ï¼Œå®éªŒä¸­ <code>k=2</code> æ—¶ï¼Œå…¶æ•ˆæœä¹Ÿä¸æ¯” <code>k=8</code> å°å¤šå°‘ã€‚</p><p><strong>Response Generation</strong></p><p>ç”±äºä¸Šä¸€ä¸ªä»»åŠ¡ä¸­ï¼Œé€‰å‡ºäº† Top K ä¸ªå¯èƒ½åˆé€‚çš„çŸ¥è¯†ç‰‡æ®µï¼Œå› æ­¤åœ¨ç”Ÿæˆä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™äº›ç‰‡æ®µé€ä¸€è¿›è¡Œæ‹¼æ¥ã€é¢„æµ‹å’Œä¼˜åŒ–ã€‚</p><p>å¦‚åŸè¾“å…¥å½¢çŠ¶ä¸º <code>[batch_size, len_seq]</code>ï¼Œ é‚£ä¹ˆè®­ç»ƒè¿‡ç¨‹ä¸­é¢„æµ‹ç»“æœçš„å½¢çŠ¶å°±ä¼šæ˜¯ <code>[batch_size * K, len_seq]</code></p><p><strong>Balanced Joint Training</strong></p><p>è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶å¯¹ Knowledge Selection å’Œ Response Generation è¿›è¡Œä¼˜åŒ–ã€‚<a href="https://github.com/PaddlePaddle/Knover/blob/develop/knover/models/plato_kag.py#L343" target="_blank" rel="noopener noreferrer">å‚è€ƒä»£ç <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>æ–‡ä¸­æåˆ°äº†ä½¿ç”¨è¶…å‚ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span> æ¥è°ƒæ•´ä¸¤ä¸ªæŸå¤±ä¹‹é—´çš„æƒé‡ï¼Œå³æ•´ä¸ªä¼˜åŒ–ç›®æ ‡ä¸ºï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>r</mi><mo>âˆ£</mo><mi>c</mi><mo stretchy="false">)</mo><mo>âˆ</mo><munder><mo>âˆ‘</mo><mi>z</mi></munder><msub><mi>p</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mo>âˆ£</mo><mi>c</mi><mo stretchy="false">)</mo><msup><mrow><mo fence="true">(</mo><munderover><mo>âˆ</mo><mi>t</mi><mi>T</mi></munderover><msub><mi>p</mi><mi>Ï•</mi></msub><mrow><mo fence="true">(</mo><msub><mi>r</mi><mi>t</mi></msub><mo>âˆ£</mo><mi>c</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><msub><mi>r</mi><mrow><mo>&lt;</mo><mi>t</mi></mrow></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mi>Î±</mi></msup></mrow><annotation encoding="application/x-tex"> p(r \mid c) \propto \sum_z p_\theta(z \mid c)\left(\prod_t^T p_\phi\left(r_t \mid c, z, r_{&lt;t}\right)\right)^\alpha </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3em;vertical-align:-1.25em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.9em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1327em;vertical-align:-1.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.9em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">Ï•</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1774em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.8826em;"><span style="top:-4.2812em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span></span></span></span></span></span></span></span></p><p>å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mi>z</mi><mi mathvariant="normal">âˆ£</mi><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p_{\theta}(z|c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord">âˆ£</span><span class="mord mathnormal">c</span><span class="mclose">)</span></span></span></span> ä¸º Knowledge Selection å¯¹åº”çš„æ¦‚ç‡ã€‚ç”Ÿæˆä»»åŠ¡çš„æ¦‚ç‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>âˆ</mo><mi>t</mi><mi>T</mi></msubsup><msub><mi>p</mi><mi>Ï•</mi></msub><mrow><mo fence="true">(</mo><msub><mi>r</mi><mi>t</mi></msub><mo>âˆ£</mo><mi>c</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><msub><mi>r</mi><mrow><mo>&lt;</mo><mi>t</mi></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\prod_t^T p_\phi\left(r_t \mid c, z, r_{&lt;t}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">Ï•</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1774em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span> å‚æ•°æ¥è°ƒæ•´ã€‚</p><p>ä½†æ˜¯åœ¨ Knover çš„æºä»£ç ä¸­ï¼Œç¬”è€…å¹¶æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªè®¾ç½®ï¼Œæ•´ä¸ª PLATO-KAG è®­ç»ƒè¿‡ç¨‹ä»…æ˜¯ç®€å•åœ°å°† Knowledge Selection ä»»åŠ¡å’Œ Response Generation ä»»åŠ¡æƒé‡ç®€å•åœ°åšäº†ç›¸åŠ ã€‚</p><p>æ­¤å¤–ï¼Œæ¨¡å‹é‡‡ç”¨ PLATO-2 çš„é¢„è®­ç»ƒæƒé‡åˆå§‹åŒ–ã€‚</p><p>åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼Œä»…ä»…é€‰æ‹©ç›¸ä¼¼åº¦æœ€é«˜çš„ <code>knowledge</code> ç‰‡æ®µè¿›è¡Œæ¨ç†ã€‚</p><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ" aria-hidden="true">#</a> å‚è€ƒ</h2><p>[1] <a href="http://arxiv.org/abs/2112.12441" target="_blank" rel="noopener noreferrer">TOD-DA: Towards Boosting the Robustness of Task-oriented Dialogue Modeling on Spoken Conversations<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[2] <a href="http://arxiv.org/abs/2102.02096" target="_blank" rel="noopener noreferrer">Learning to Select External Knowledge with Multi-Scale Negative Sampling<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[3] <a href="https://aclanthology.org/2021.nlp4convai-1.14" target="_blank" rel="noopener noreferrer">PLATO-KAG: Unsupervised Knowledge-Grounded Conversation via Joint Modeling<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[4] <a href="http://arxiv.org/abs/2109.09519" target="_blank" rel="noopener noreferrer">PLATO-XL: Exploring the Large-scale Pre-training of Dialogue Generation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[5] <a href="https://www.aclweb.org/anthology/2020.acl-main.9" target="_blank" rel="noopener noreferrer">PLATO: Pre-trained Dialogue Generation Model with Discrete Latent Variable<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>[6] <a href="http://arxiv.org/abs/2006.16779" target="_blank" rel="noopener noreferrer">PLATO-2: Towards Building an Open-Domain Chatbot via Curriculum Learning<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 417333277@qq.com">kevinng77</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="https://beian.miit.gov.cn/" target="_blank">é—½ICPå¤‡2020021116å·</a>&nbsp;<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=" target="_blank"><img src="/assets/gongan.png">é—½å…¬ç½‘å®‰å¤‡ 35058102000231å· </a></div><div class="copyright">Copyright Â© 2023 Kevin å´å˜‰æ–‡</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-16d0ff63.js" defer></script>
  </body>
</html>
