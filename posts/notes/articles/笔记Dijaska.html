<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="http://antarina.tech/posts/notes/articles/%E7%AC%94%E8%AE%B0Dijaska.html"><meta property="og:site_name" content="è®°å¿†ç¬”ä¹¦"><meta property="og:title" content="æœ€çŸ­è·¯å¾„ç®—æ³•ï¼ˆä¸€ï¼‰|Dijkstra"><meta property="og:description" content="Dijkstra image-20201114225526432 (å›¾ç‰‡æ¥æº : CLRS p659 24.3) åŸç‰ˆç®—æ³• å…ˆæ¥çœ‹çœ‹ä»£ç  import math, heapq for u in vertex: # è¿™è¾¹å¯¹æ‰€æœ‰ç‚¹éƒ½è¿›è¡Œäº†ä¸€æ¬¡ Dijkstra heap = [] for v in vertex: if v != u: heapq.heappush(heap, [adj[u][v] if v in adj[u] else math.inf, v]) #æå–åˆ°è¾¾è·ç¦»æœ€å°çš„èŠ‚ç‚¹ dist = {u: 0} while len(heap) &gt; 0: mindist, v = heapq.heappop(heap) dist[v] = mindist for i in range(len(heap)): if heap[i][1] in adj[v]: heap[i][0] = min(heap[i][0], mindist + adj[v][heap[i][1]]) heapq.heapify(heap)"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-03-26T07:48:04.000Z"><meta property="article:author" content="Kevin å´å˜‰æ–‡"><meta property="article:tag" content="algorithm|ç®—æ³•"><meta property="article:published_time" content="2020-11-14T00:00:00.000Z"><meta property="article:modified_time" content="2023-03-26T07:48:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"æœ€çŸ­è·¯å¾„ç®—æ³•ï¼ˆä¸€ï¼‰|Dijkstra","image":[""],"datePublished":"2020-11-14T00:00:00.000Z","dateModified":"2023-03-26T07:48:04.000Z","author":[{"@type":"Person","name":"Kevin å´å˜‰æ–‡"}]}</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;700&display=swap" rel="stylesheet"><link rel="icon" href="/logo.svg"><title>æœ€çŸ­è·¯å¾„ç®—æ³•ï¼ˆä¸€ï¼‰|Dijkstra | è®°å¿†ç¬”ä¹¦</title><meta name="description" content="Dijkstra image-20201114225526432 (å›¾ç‰‡æ¥æº : CLRS p659 24.3) åŸç‰ˆç®—æ³• å…ˆæ¥çœ‹çœ‹ä»£ç  import math, heapq for u in vertex: # è¿™è¾¹å¯¹æ‰€æœ‰ç‚¹éƒ½è¿›è¡Œäº†ä¸€æ¬¡ Dijkstra heap = [] for v in vertex: if v != u: heapq.heappush(heap, [adj[u][v] if v in adj[u] else math.inf, v]) #æå–åˆ°è¾¾è·ç¦»æœ€å°çš„èŠ‚ç‚¹ dist = {u: 0} while len(heap) &gt; 0: mindist, v = heapq.heappop(heap) dist[v] = mindist for i in range(len(heap)): if heap[i][1] in adj[v]: heap[i][0] = min(heap[i][0], mindist + adj[v][heap[i][1]]) heapq.heapify(heap)">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-99575b2e.css" as="style"><link rel="stylesheet" href="/assets/style-99575b2e.css">
    <link rel="modulepreload" href="/assets/app-bbaf15d7.js"><link rel="modulepreload" href="/assets/ç¬”è®°Dijaska.html-13362394.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/ç¬”è®°Dijaska.html-6744fd2e.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><!----><!----><span class="vp-site-name">è®°å¿†ç¬”ä¹¦</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="ä¸»é¡µ" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="å½’æ¡£" class="vp-link nav-link nav-link" href="/timeline/"><span class="font-icon icon iconfont icon-categoryselected" style=""></span>å½’æ¡£<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/kevinng77" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->æœ€çŸ­è·¯å¾„ç®—æ³•ï¼ˆä¸€ï¼‰|Dijkstra</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Kevin å´å˜‰æ–‡</span></span><span property="author" content="Kevin å´å˜‰æ–‡"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2020-11-14T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 6 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT6M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category7 clickable" role="navigation">çŸ¥è¯†ç¬”è®°</span><!--]--><meta property="articleSection" content="çŸ¥è¯†ç¬”è®°"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag0 clickable" role="navigation">algorithm|ç®—æ³•</span><!--]--><meta property="keywords" content="algorithm|ç®—æ³•"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#åŸç‰ˆç®—æ³•">åŸç‰ˆç®—æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#æ­£ç¡®æ€§åˆ†æ">æ­£ç¡®æ€§åˆ†æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#æ—¶é—´å¤æ‚åº¦">æ—¶é—´å¤æ‚åº¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#ç‰¹æ®Šæƒ³æ³•">ç‰¹æ®Šæƒ³æ³•</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="dijkstra" tabindex="-1"><a class="header-anchor" href="#dijkstra" aria-hidden="true">#</a> Dijkstra</h1><figure><img src="/assets/img/Dijaska/image-20201114225526432.png" alt="image-20201114225526432" tabindex="0" loading="lazy"><figcaption>image-20201114225526432</figcaption></figure><p><em>(å›¾ç‰‡æ¥æº : CLRS p659 24.3)</em></p><!--more--><h2 id="åŸç‰ˆç®—æ³•" tabindex="-1"><a class="header-anchor" href="#åŸç‰ˆç®—æ³•" aria-hidden="true">#</a> åŸç‰ˆç®—æ³•</h2><p>å…ˆæ¥çœ‹çœ‹ä»£ç </p><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> math, heapq</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> u </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> vertex:  </span><span style="color:#6A737D;"># è¿™è¾¹å¯¹æ‰€æœ‰ç‚¹éƒ½è¿›è¡Œäº†ä¸€æ¬¡ Dijkstra</span></span>
<span class="line"><span style="color:#24292E;">    heap </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> v </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> vertex:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> v </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> u:</span></span>
<span class="line"><span style="color:#24292E;">            heapq.heappush(heap, [adj[u][v] </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> v </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> adj[u] </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> math.inf, v])  </span><span style="color:#6A737D;">#æå–åˆ°è¾¾è·ç¦»æœ€å°çš„èŠ‚ç‚¹</span></span>
<span class="line"><span style="color:#24292E;">    dist </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {u: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">len</span><span style="color:#24292E;">(heap) </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        mindist, v </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> heapq.heappop(heap)</span></span>
<span class="line"><span style="color:#24292E;">        dist[v] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> mindist</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">range</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">len</span><span style="color:#24292E;">(heap)):</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> heap[i][</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> adj[v]:</span></span>
<span class="line"><span style="color:#24292E;">                heap[i][</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">min</span><span style="color:#24292E;">(heap[i][</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">], mindist </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> adj[v][heap[i][</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]])</span></span>
<span class="line"><span style="color:#24292E;">        heapq.heapify(heap)</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼ªä»£ç ï¼š</p><blockquote><p>Dijkstra(G,w,s): åˆå§‹åŒ–ï¼Œæ ‡è®°æ‰€æœ‰ç‚¹è·ç¦»ä¸ºæ­£æ— ç©· S = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">\varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6633em;vertical-align:-0.0817em;"></span><span class="mord amsrm">âˆ…</span></span></span></span> Q = V- S while Q <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">â‰ </mo><mi mathvariant="normal">âˆ…</mi><mo>:</mo></mrow><annotation encoding="application/x-tex">\ne \varnothing:</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6633em;vertical-align:-0.0817em;"></span><span class="mord amsrm">âˆ…</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span></span></span> u = Extract-Min(Q) S = S <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆª</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">âˆª</span></span></span></span> {u} å¯¹æ‰€æœ‰ u çš„é‚»æ¥ç‚¹ v: Relax(u,v,w)</p></blockquote><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#D73A49;">def</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Relax</span><span style="color:#24292E;">(u,v,w):</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> d[v] </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> d[u] </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> w:</span></span>
<span class="line"><span style="color:#24292E;">        d[v] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> d[u] </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> w</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ­£ç¡®æ€§åˆ†æ" tabindex="-1"><a class="header-anchor" href="#æ­£ç¡®æ€§åˆ†æ" aria-hidden="true">#</a> æ­£ç¡®æ€§åˆ†æ</h2><p><strong>è¾…åŠ©å®šç† 1:</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>v</mi><mo stretchy="false">]</mo><mo>â‰¥</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>Â </mtext><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[v] \ge \delta(s,v),\ \delta(s,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> ä¸º s åˆ° v çš„æœ€çŸ­è·¯å¾„</p><p>æ— è®ºæ€ä¹ˆ relaxï¼Œå¯¹äºæ‰€æœ‰ç›®çš„åœ°ç»ˆç‚¹ï¼Œæˆ‘ä»¬éƒ½ä¸å¯èƒ½å¾—åˆ°ä¸€ä¸ªæ¯”æœ€çŸ­è·¯å¾„è¿˜å°çš„ç­”æ¡ˆï¼Œå¯ä»¥ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜ï¼š</p><p>åˆå§‹åŒ–é˜¶æ®µï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">[</mo><mi>v</mi><mo stretchy="false">]</mo><mo>=</mo><mi>inf</mi><mo>â¡</mo></mrow><annotation encoding="application/x-tex">d[s]=0,d[v]= \inf</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mop">in<span style="margin-right:0.07778em;">f</span></span></span></span></span> ï¼Œæˆç«‹</p><p><strong>å‡è®¾ï¼š</strong> ç›´åˆ°ç¬¬ j æ¬¡ relaxï¼Œå®šç†ä»ç„¶æˆç«‹ï¼Œåˆ™ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>â‰¥</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[j] \ge \delta(s,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span>ã€‚</p><p><strong>å‡è®¾ï¼š</strong> ç¬¬ä¸€æ¬¡è¿èƒŒå®šç†å‡ºç°åœ¨ç¬¬ i æ¬¡ relaxï¼Œä½¿å¾— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[i]&lt;\delta(s,i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>, é‚£ä¹ˆåœ¨ç¬¬ i æ¬¡ relax æ—¶å€™ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>w</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>e</mi><mtext>Â </mtext><mi>d</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>â‰¥</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>â‰¥</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>+</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>j</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>â‰¥</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> d[i] = d[j] + w(j,i) &lt; \delta(s,i)\\ while\ d[j] + w(j,i) \ge \delta(s,j) + w(j,i)\\ \ge \delta(s,j) + \delta(j,i)\\ \ge \delta(s,i) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">hi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mspace">Â </span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></span></p><p>å¾—è¯ã€‚</p><p><strong>å®šç† 2:</strong> å½“ Dijkstra ç»“æŸçš„æ—¶å€™ï¼Œæ‰€æœ‰ç‚¹éƒ½æ»¡è¶³ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>v</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[v] = \delta(s,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></p><p>è¦è¯æ˜ä»¥ä¸Šå®šç†ï¼Œå¯ä»¥å…ˆè¯æ˜å½“ v è¢«åŠ è¿›åˆ° S é›†åˆåï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>v</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[v] = \delta(s,v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> ï¼Œ ä¸” d[v] ä¸ä¼šæ”¹å˜ã€‚</p><p>åŒæ ·æˆ‘ä»¬åˆ©ç”¨åæ­£æ³•ï¼š</p><p><strong>å‡è®¾ï¼š</strong> å½“ u è¢«åŠ å…¥åˆ° S ä¸­åï¼Œå®šç† 2 ç¬¬ä¸€æ¬¡è¢«è¿èƒŒã€‚</p><p>å½“ u å°†è¦è¢«åŠ å…¥åˆ° S ä¸­æ—¶ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo mathvariant="normal">â‰ </mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mo>âˆµ</mo><mi>t</mi><mi>h</mi><mi>e</mi><mi>o</mi><mi>r</mi><mi>y</mi><mn>1</mn><mo>âˆ´</mo><mi>d</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[u] \ne \delta(s,u) \because theory 1 \therefore d[u] &gt; \delta(s,u)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">âˆµ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em;">eory</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">âˆ´</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span></span></span></span></p><p>è§ä¸‹å›¾ï¼Œ <strong>å‡è®¾</strong> P ä¸º S åˆ° u çš„æœ€çŸ­è·¯å¾„ï¼Œ ä»èµ·å§‹ç‚¹ s å‡ºå‘æ²¿ P è¡Œèµ°ï¼Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>â†’</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> æ˜¯ç¬¬ä¸€æ¡èµ°å‡º S é›†åˆçš„è·¯å¾„ï¼ŒåŠ P è·¯å¾„ä¸Š x å‰çš„æ‰€æœ‰ç‚¹éƒ½åœ¨ S é›†åˆå†…ï¼Œy ä¹‹åçš„æ‰€æœ‰ç‚¹éƒ½åœ¨ S é›†åˆå¤–ã€‚</p><p>æ‰€ä»¥åœ¨å®šç† 2 ç¬¬ä¸€æ¬¡è¢«è¿èƒŒå‰ï¼Œæœ€åä¸€ä¸ªè¢«åŠ å…¥åˆ° S é›†åˆçš„ç‚¹ä¸º x, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[x] = \delta(s,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> ï¼ˆå› ä¸ºæˆ‘ä»¬å‡è®¾ç¬¬ä¸€æ¬¡è¿èƒŒå®šç† 2 åœ¨ uï¼‰ã€‚</p><p>X è¢«åŠ å…¥ S åæˆ‘ä»¬å¯¹ x çš„æ‰€æœ‰é‚»æ¥ç‚¹ relaxï¼Œ åŒ…æ‹¬ yã€‚</p><ol><li>å¦‚æœåœ¨ relax å‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[y] = \delta(s,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>ï¼Œ é‚£ä¹ˆ relax å <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[y] = \delta(s,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> .</li><li>å¦‚æœåœ¨ relax å‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[y] &gt; \delta(s,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>, é‚£ä¹ˆ relax å <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[y] = d[x] + w(x,y) = \delta(s,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></li></ol><p>æ‰€ä»¥ relax åï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[y] = \delta(s,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> ä¸€ç›´æˆç«‹ã€‚</p><p>æˆ‘ä»¬æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[y] = \delta(s,y) &lt; \delta(s,u)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span></span></span></span>ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰é€‰æ‹©åŠ å…¥ y åˆ° S è€Œæ˜¯åŠ å…¥äº† uï¼Œè¯´æ˜ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">[</mo><mi>u</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mi>d</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mi>Î´</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d[u] &lt; d[y] &lt; \delta(s,u)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">u</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span></span></span></span>ï¼Œè¿åäº† <strong>è¾…åŠ©å®šç† 1</strong> .</p><p>å¾—è¯ã€‚</p><figure><img src="/assets/img/Dijaska/image-20201115113459433.png" alt="image-20201115113459433" tabindex="0" loading="lazy"><figcaption>image-20201115113459433</figcaption></figure><p>â€‹ <em>ï¼ˆå›¾ç‰‡æ¥æºï¼šCLRSï¼šp660ï¼‰</em></p><h2 id="æ—¶é—´å¤æ‚åº¦" tabindex="-1"><a class="header-anchor" href="#æ—¶é—´å¤æ‚åº¦" aria-hidden="true">#</a> æ—¶é—´å¤æ‚åº¦</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> u </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> vertex:  </span><span style="color:#6A737D;">## å¯¹æ‰€æœ‰ç‚¹éƒ½è¿›è¡Œäº†ä¸€æ¬¡ Dijkstra</span></span>
<span class="line"><span style="color:#24292E;">    heap </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [] </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> v </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> vertex:  </span><span style="color:#6A737D;"># å»ºä¸€ä¸ª heap O(V)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> v </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> u:</span></span>
<span class="line"><span style="color:#24292E;">            heapq.heappush(heap, [adj[u][v] </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> v </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> adj[u] </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> math.inf, v])  </span></span>
<span class="line"><span style="color:#24292E;">    dist </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {u: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">len</span><span style="color:#24292E;">(heap) </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">:  </span><span style="color:#6A737D;"># V æ¬¡</span></span>
<span class="line"><span style="color:#24292E;">        mindist, v </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> heapq.heappop(heap) </span><span style="color:#6A737D;"># O(lgV)</span></span>
<span class="line"><span style="color:#24292E;">        dist[v] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> mindist</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">range</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">len</span><span style="color:#24292E;">(heap)): </span><span style="color:#6A737D;"># æ€»çš„è®²ï¼Œæˆ‘ä»¬è¦åš E æ¬¡ relax</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> heap[i][</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> adj[v]:  </span><span style="color:#6A737D;"># æ¯æ¬¡åˆ¤æ–­æœ€åç”¨ V  </span></span>
<span class="line"><span style="color:#24292E;">                heap[i][</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">min</span><span style="color:#24292E;">(heap[i][</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">], mindist </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> adj[v][heap[i][</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]])  </span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6A737D;"># Oï¼ˆ1ï¼‰å¦‚æœ relax å®Œä¹‹åä¸é©¬ä¸Šè¿›è¡Œ heapify</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6A737D;"># Oï¼ˆlgVï¼‰å¦‚æœ relax å®Œä¹‹åé©¬ä¸Šè¿›è¡Œ heapify</span></span>
<span class="line"><span style="color:#24292E;">        heapq.heapify(heap)    </span><span style="color:#6A737D;">#è¿™é‡Œçš„ heapify æ˜¯å¯¹æ•´ä¸ª heap è¿›è¡Œé‡æ–°æ’åºï¼Œä¸æ˜¯å¯¹ä¸€ä¸ªç‚¹ã€‚ä½ ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨ relax ä¹‹åé©¬ä¸Šå¯¹ç›¸åº”çš„ç‚¹è¿›è¡Œ heapifyï¼Œæ€»æ¶ˆè€— O(Elgv)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ä¸Šé¢è¿™ç§æ–¹æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>V</mi><mi>l</mi><mi>g</mi><mi>V</mi><mo>+</mo><mi>E</mi><mi>l</mi><mi>g</mi><mi>V</mi><mo>+</mo><mi>E</mi><mi>V</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(V lgV + E lgV + EV)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">El</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span></span> ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥å¯¹ä»–è¿›è¡Œä¼˜åŒ–ï¼Œåœ¨ç”¨å­—å…¸çš„æ–¹å¼è®°å½•æ¯ä¸ª v åœ¨ heap ä¸­çš„ä½ç½®ä»¥èŠ‚çœ relax å‰æœç´¢å­—å…¸ä½ç½®çš„æ—¶é—´ï¼Œç”¨ Fibonacci Heap æ¥ä¼˜åŒ–æ¯æ¬¡ relax ä¸­ä¿®æ”¹ heap å€¼çš„æ—¶é—´ï¼Œæœ€ç»ˆæ—¶é—´å¤æ‚åº¦å¯ä»¥æé«˜ä¸ºï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>V</mi><mi>l</mi><mi>g</mi><mi>V</mi><mo>+</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(V lgV + E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></p><h2 id="ç‰¹æ®Šæƒ³æ³•" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Šæƒ³æ³•" aria-hidden="true">#</a> ç‰¹æ®Šæƒ³æ³•</h2><p>è€ƒè™‘ä»¥ä¸‹çš„è¿™äº›ç‰¹ç‚¹ï¼Œæˆ‘ç»™å‡ºå‡ ä¸ªåº”ç”¨ Dijkstra çš„è¦ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><p>è™½è¯´ Dijkstra ä¸ºå•ç‚¹å¯¹ç«¯è·¯å¾„ä¼˜åŒ–(single source)çš„æ–¹æ¡ˆï¼Œä»–è®¡ç®—äº†ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ç„¶è€Œå½“ä½ çš„æœ€ç»ˆç›®çš„åœ°æœ‰å¤šä¸ªå¯é€‰é¡¹æ—¶å¯ä»¥å´å¯ä»¥é‡‡ç”¨ Dijkstraï¼Œåªéœ€è¦åå‘è®¡ç®—ï¼Œä»ç›®çš„åœ°å‡ºå‘è®¡ç®—æ¯ä¸ªåŸå¸‚åˆ°ç›®çš„åœ°çš„æœ€çŸ­è·¯å¾„ã€‚æœ¬æ¡ˆä¾‹ä¸­è®²æ‰€æœ‰çš„æœ€ç»ˆç›®çš„åœ°ç‚¹å½“æˆä¸€ä¸ªæ•´ä½“æ¥è®¡ç®—ï¼Œä½¿å¾—è¿™ä¸ªé—®é¢˜ä»ä¸€ä¸ªå¤šç‚¹å‡ºå‘æœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œå˜æˆäº†å•ç‚¹å‡ºå‘æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚</p><p>æ€»ç»“å…³é”®è¯ï¼š <strong>åå‘è®¡ç®—è·¯å¾„</strong> ï¼Œ <strong>èŠ‚ç‚¹åˆå¹¶</strong></p></li><li><p>Dijkstra è™½ç„¶å¿«ï¼Œä½†æ˜¯å±€é™æ€§ä¹Ÿå¤§ï¼Œæ’åºè¦æ±‚ä½¿å¾—ä»–ä¸èƒ½å¤Ÿå†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è®¡ç®—ï¼Œæ‰€ä»¥ç›¸å¯¹çš„åº”ç”¨æ²¡æœ‰å…¶ä»–ä¸€äº›æœ€çŸ­è·¯å¾„ç®—æ³•é‚£ä¹ˆå¤šï¼Œå¦‚ Bellman</p></li></ul><p>ä»¥ä¸‹çš„æƒ…æ™¯æ¦‚è¿°ä¹Ÿè®¸å¯ä»¥å¸®åŠ©ç†è§£ï¼š</p><p>æ–°å† æ¥è¢­è€Œä½ ä¾æ—§æ·±å¤„å›½å¤–ï¼Œæ‹…å¿ƒå®‰å±çš„ä½ ä¸‹å®šå†³å¿ƒè¦ç”¨æœ€çŸ­çš„æ—¶é—´å›åˆ°ä¸­å›½ã€‚ç„¶è€Œå½“ä½ æ‰“å¼€æŸæœºç¥¨ç½‘ç«™å´å‘ç°ä¸€å¼ ç›´è¾¾æœºç¥¨éƒ½æ²¡æœ‰äº†ï¼Œç°åœ¨å”¯ä¸€å¯è¡Œçš„æ–¹æ¡ˆå°±æ˜¯ä»åˆ«çš„åœ°æ–¹è½¬æœºï¼š</p><ul><li><p>å¾ˆæ‚²å‰§çš„å‘Šè¯‰ä½ ä½ å¯èƒ½è¦è½¬å¥½å‡ æ¬¡æœºã€‚</p></li><li><p>å¥åº·ç åˆ†ä¸ºç»¿ï¼Œæ©™ï¼Œçº¢ä¸‰ç§ï¼Œæœ‰äº›èˆªç©ºå…¬å¸è¦æ±‚ä½ æ‹¿åˆ° <strong>å½“åœ°æ”¿åºœ</strong> çš„ç»¿ç æ‰èƒ½å¤Ÿç™»æœºï¼Œæœ‰äº›åªä¼šè¦æ±‚ä½ æ©™äº†å°±å¯ä»¥ç™»æœºï¼Œ <strong>ä½†æ˜¯ä½ ä¸èƒ½æ‹¿ç€å‰ä¸€ä¸ªåŸå¸‚ç»™çš„å¥åº·ç å»å¦ä¸€ä¸ªåŸå¸‚ç™»æœºã€‚</strong></p></li><li><p>å½“ä½ æ‹¿ç€ç»¿ç æŠµè¾¾æŸä¸ªè½¬æœºåŸå¸‚ï¼Œè¯¥åŸå¸‚å¯èƒ½ç»™ä½ ç»¿ç ï¼Œä¹Ÿå¯èƒ½ä¼šç»™ä½ æå‡å±é™©ç™»è®°å˜ä¸ºæ©™ç ã€‚è¿™å–å†³äºå¯¹ä¹˜å®¢æ¥æºåœ°çš„ä¿¡ä»»ã€‚åŒç†æ©™ç èƒ½å¤Ÿå˜æˆçº¢ç ã€‚</p></li><li><p>å¯ä»¥é€šè¿‡éš”ç¦»æ¥æå‡è‡ªå·±çš„å®‰å…¨ç­‰çº§ï¼Œæ¯ä¸ªåŸå¸‚æœ‰ä¸åŒçš„éš”ç¦»æ”¿ç­–ï¼Œå¯¹æå‡å¥åº·ç ç­‰çº§çš„éš”ç¦»å¤©æ•°ä¹Ÿæœ‰ä¸åŒè¦æ±‚ã€‚</p></li></ul><p>ä½ æ‰‹ä¸­æ‹¥æœ‰å¦‚ä¸‹æ•°æ®ï¼š</p><ul><li>qrtn: æ¯ä¸ªåŸå¸‚å‡çº§å¥åº·ç æ‰€éœ€çš„éš”ç¦»å¤©æ•°ï¼š[çº¢åˆ°æ©™ï¼Œæ©™åˆ°ç»¿]</li><li>roadmap_raw: åŸå¸‚èˆªç­ä¿¡æ¯ï¼š&quot;åŸå¸‚ id1:åŸå¸‚ id2:æ‰€éœ€å¤©æ•° åŸå¸‚ 3:åŸå¸‚ 4:æ‰€éœ€å¤©æ•°&quot;</li><li>target_city_list: ä½ è¦çš„ç›®çš„åœ°çš„ä»£ç </li></ul><p>è¯¦ç»†è¯·å‚è€ƒä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><ul><li>ä¾‹å­ä¸­ qrtn åŒ…å« 7 ä¸ªå…ƒç´ ï¼Œç¬¬ä¸€ä¸ª 0 å ä½ç”¨è¯·å¿½ç•¥ã€‚ç¬¬ 1 ä¸ªå…ƒç´ åŠ qrtn[1] è¡¨ç¤ºåœ¨åŸå¸‚ 1ï¼Œè®²æ©™ç å‡çº§åˆ°ç»¿ç è¦ 7 å¤©ï¼Œè®²çº¢ç å‡çº§åˆ°æ©™ç è¦ 14 å¤©ã€‚</li><li>ä¾‹å­ä¸­ roadmap_raw åŒ…å« 6 ä¸ªåŸå¸‚ä¿¡æ¯ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ã€‚1:2:10 è¡¨ç¤º id ä¸º 1 çš„åŸå¸‚åˆ° id ä¸º 2 çš„åŸå¸‚éœ€è¦ 10 å¤©ã€‚å…¶ä¸­æ‰€éœ€å¤©æ•° 10 ä¸ºæ­£è¡¨ç¤ºä¸¤ä¸ªåŸå¸‚ä¹‹é—´äº’ç›¸ä¿¡ä»»ï¼Œä¸ºè´Ÿè¡¨ç¤ºåŸå¸‚ä¸ä¿¡ä»»ï¼Œä½ çš„å®‰å…¨ç è¦è¢«é™ä¸€çº§ã€‚</li><li>ä¾‹å­ä¸­ target_city_list è¯´æ˜ä½ æœ€ç»ˆè¦åˆ°è¾¾ id ä¸º 3 æˆ– id ä¸º 1 çš„åŸå¸‚ã€‚</li><li>åœ¨è¿™é‡Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰åŸå¸‚éƒ½è¦æ±‚éœ€è¦æ©™ç æ‰èƒ½ç™»æœºã€‚</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="shiki github-light" style="background-color:#fff;" tabindex="0"><code><span class="line"><span style="color:#24292E;">qrtn </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">ï¼Œ[</span><span style="color:#005CC5;">14</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">7</span><span style="color:#24292E;">],[</span><span style="color:#005CC5;">14</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">7</span><span style="color:#24292E;">],[</span><span style="color:#005CC5;">21</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">7</span><span style="color:#24292E;">],[</span><span style="color:#005CC5;">13</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">10</span><span style="color:#24292E;">],[</span><span style="color:#005CC5;">21</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">],[</span><span style="color:#005CC5;">7</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">14</span><span style="color:#24292E;">]]</span></span>
<span class="line"><span style="color:#24292E;">roadmap_raw </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;1:2:10 1:4:-15 2:4:10 2:5:45 3:4:-10 3:6:20&quot;</span></span>
<span class="line"><span style="color:#24292E;">target_city_list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 417333277@qq.com">kevinng77</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="https://beian.miit.gov.cn/" target="_blank">æ²ªICPå¤‡2023027904å·-1</a>&nbsp;<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=" target="_blank"><img src="/assets/gongan.png">å…¬å®‰å¤‡æ¡ˆå· </a></div><div class="vp-copyright">Copyright Â© 2025 Kevin å´å˜‰æ–‡</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-bbaf15d7.js" defer></script>
  </body>
</html>
